/**
* beeptunes.js v1.0.0
* Copyright 2014 
* oddrun.ir 
*/
if(!jQuery)throw new Error("Beeptunes requires jQuery");var beep={menu:{ready:$(function(){setTimeout(function(){beep.menu.showManage()},1e3)}),showManage:function(){$(".manage-menu").load("/application/auth/post-login-menu").css("display","inline-block")}},responsive:{ready:$(function(){beep.responsive.init()}),init:function(){this.mobileCheck()},mobileCheck:function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(beep.isMobile=!0,beep.device="mobile",this.mobileInit()):(beep.isMobile=!1,beep.device="desktop"),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&(beep.device+=" ios "),$("html").addClass(beep.device)},mobileInit:function(){this.initSideScroller(),this.mobileAppDownloadInit(),$(".menu-search-artist").addClass("hidden-xs hidden-sm"),$("main>header").on("click touchstart",".menu-mobile",function(){var a=$(".menu-holder");return a.hasClass("show")?beep.responsive.hideMobileMenu():beep.responsive.showMobileMenu(),!1}),$(document).on("click touchstart","body",function(a){var b=$(a.target);b.parents(".menu-container").length||beep.responsive.hideMobileMenu()}),$(document).on("click touchstart",".pad-by-menu .mobile-login",function(){return beep.responsive.hideMobileMenu(),setTimeout(function(){$(".login").click()},500),!1})},supportsHtml5Storage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}},mobileAppDownloadInit:function(){this.supportsHtml5Storage?"undefined"==typeof localStorage["mobile-app-download"]&&($(".mobile-app-download").show(),$(".close-mobile-app-download").click(function(){localStorage.setItem("mobile-app-download","hide"),$(".mobile-app-download").remove()})):($(".mobile-app-download").show(),$(".close-mobile-app-download").click(function(){$(".mobile-app-download").remove()}))},showMobileMenu:function(){$(".menu-holder").addClass("show"),$("body, main").addClass("pad-by-menu")},hideMobileMenu:function(){$(".menu-holder").removeClass("show"),$("main").removeClass("pad-by-menu"),setTimeout(function(){$("body").removeClass("pad-by-menu")},300)},initSideScroller:function(a){var b=a||$(".album-list-widget .album-holder");b.scroll(function(){var a=$(this),b=145,c=a.find(".album").length,d=a.scrollLeft(),e=b*c;if(d+500>e){var f=a.parents(".album-list-widget");beep.sideScoller.run(f,"next",!0)}})},touchStart:function(){}},login:{ready:$(function(){$(document).on("click touchstart",".login, .register",function(){return beep.login.showModal(),!1}),window.hasLoggedIn&&$("body").addClass("logged-in"),$("body").on("submit","#login-form",function(){var a=$("#username-input").val(),b=$("#password-input").val();return $.ajax({type:"POST",dataType:"JSON",url:"/application/auth/login",data:{username:a,password:b},success:function(a){if(a.status===!0){$("#login-form").modal("hide"),beep.login.undemandedLogin(a);try{beep.login.deferred.resolve()}catch(b){}}else a.message,beep.notify.show(a.message,{type:"notify-danger"})}}),!1}),$(document).on("click",".login-with-google",function(){beep.login.withProvider("google")}),$(".login-with-yahoo").click(function(){beep.login.withProvider("yahoo")}),$(".regular-login").click(function(){$(this).hide(),$(".login-fold").slideDown(),setTimeout(function(){$("#username-input").focus()},400)})}),showModal:function(){beep.login.clearForm(),$("#login-form").modal()},clearForm:function(){$("#username-input, #password-input").val(""),$("#login-tip").text("")},undemandedLogin:function(a){$(".user").addClass("logged-in-user").find(".user-name").text(a.name).end().find(".credit-text").text(a.credit),$(".user-menu").addClass("logged-in-user"),$(".hero .login-with-google").fadeOut(),beep.notify.show("ورود موفقیت آمیز، به بییپ تونز خوش آمدید",{autoHide:4}),beep.menu.showManage(),beep.user.hasLoggedIn=!0,starRating.unbind(),starRating.init(),beep.like.unbind(),beep.like.init()},withProvider:function(a){var b="/application/auth/"+a+"-signin-url";$.ajax({type:"POST",url:b,data:{},success:function(a){window.location.href=a}})}},user:{hasLoggedIn:window.hasLoggedIn},modal:{show:function(a,b,c){var b=b||"",d=$("#modal-template").html();d=_.template(d,{data:a,className:b}),$(d).modal(c)},hide:function(){}},preSale:{ready:$(function(){$(".album-list-widget").on("click touchstart",".pre-sale",function(){var a=$(this);return beep.preSale.click(a),!1}),$("#pre-sale-and-purchase").click(function(){var a=$(this).parents(".modal"),b=a.data("productData");beep.preSale.purchase(b),a.modal("hide")})}),click:function(a){var b={},c=a.parents(".album");b.id=c.data("id"),b.price=c.data("price"),b.type=c.data("type"),b.origin=c.data("origin"),b.name=c.find(".album-title").text(),beep.preSale.check(b)},check:function(a){1==beep.user.hasLoggedIn?beep.preSale.showModal(a):(beep.login.showModal(),$("#login-tip").text("برای پیش خرید باید ابتدا وارد شوید."),beep.login.deferred=$.Deferred(),beep.login.deferred.done(function(){beep.download.check(a)}))},purchase:function(a){var b="/application/user/buy-"+a.type;beep.loading.show(),$.ajax({url:b,type:"POST",dataType:"JSON",data:{id:a.id},success:function(a){if(beep.loading.hide(),1==a.status)beep.download.updatePrice(a.credit),beep.notify.show("پیش خرید شما با موفقیت انجام شد. در هنگام انتشار آلبوم، شما را از طریق پست الکترونیک باخبر خواهیم کرد.");else{var b=a.message;beep.notify.show(b,{type:"notify-danger"})}}})},showModal:function(a){var b=$("#pre-sale-form"),c="";if(c=0==a.price?"<span>رایگان</span>":"<span>"+a.price+"</span><span> تومان </span>","Video"==a.origin)var d="<p style='margin-bottom: 0;'><span>نام محصول: </span><span>"+beep.dic[a.origin]+" "+a.name+"</span></p><p style='color: #6F6F6F;font-size: 13px;margin: 0px;'><span>قیمت: </span>"+c+"</p>";else var d="<p style='margin-bottom: 0;'><span>نام محصول: </span><span>"+beep.dic[a.type]+" "+a.name+"</span></p><p style='color: #6F6F6F;font-size: 13px;margin: 0px;'><span>قیمت: </span>"+c+"</p>";b.data({productData:a}).find(".modal-body").html(d),b.modal()}},download:{ready:$(function(){$(".album-list-widget").on("click",".download",function(){var a=$(this);return beep.download.click(a),!1}),$("#download-and-purchase").click(function(){var a=$(this).parents(".modal"),b=a.data("productData");beep.download.purchase(b),a.modal("hide")}),$("body").on("click",".download-with-quality",function(){var a=$(this).data("link");beep.download.makeDownload(a),$(".quality-chooser-modal").modal("hide")})}),click:function(a){var b={},c=a.parents(".album");b.id=c.data("id"),b.price=c.data("price"),b.type=c.data("type"),b.origin=c.data("origin"),b.name=c.find(".album-title").text(),beep.download.check(b)},check:function(a){0==a.price?beep.download.downloadForFree(a):1==beep.user.hasLoggedIn?"album"==a.type&&"Video"==a.origin?$(".download-albums-list .download").click():beep.download.getDownloadLink(a.id,a.type,function(b){beep.download.checkAfterLogin(a,b)}):(beep.login.showModal(),beep.login.deferred=$.Deferred(),beep.login.deferred.done(function(){beep.download.check(a)}))},downloadForFree:function(a){var b="/application/download/free",c={};c[a.type]=a.id,$.ajax({url:b,type:"POST",dataType:"JSON",data:c,success:function(b){if(1==b.status)beep.download.showQualityChooserModal(a,b);else{var c=b.message;beep.notify.show(c,{type:"notify-danger"})}}})},checkAfterLogin:function(a,b){beep.download.hasBought(b)===!0?beep.download.showQualityChooserModal(a,b):(a.price=b.price,beep.download.showModal(a))},showModal:function(a){var b=$("#download-form"),c="";if(c=0==a.price?"<span>رایگان</span>":"<span>"+a.price+"</span><span> تومان </span>","Video"==a.origin)var d="<p style='margin-bottom: 0;'><span>نام محصول: </span><span>"+beep.dic[a.origin]+" "+a.name+"</span></p><p style='color: #6F6F6F;font-size: 13px;margin: 0px;'><span>قیمت: </span>"+c+"</p>";else var d="<p style='margin-bottom: 0;'><span>نام محصول: </span><span>"+beep.dic[a.type]+" "+a.name+"</span></p><p style='color: #6F6F6F;font-size: 13px;margin: 0px;'><span>قیمت: </span>"+c+"</p>";b.data({productData:a}).find(".modal-body").html(d),b.modal()},purchase:function(a){var b="/application/user/buy-"+a.type;beep.loading.show(),$.ajax({url:b,type:"POST",dataType:"JSON",data:{id:a.id},success:function(b){if(beep.loading.hide(),1==b.status)beep.download.updatePrice(b.credit),beep.notify.show("خرید شما با موفقیت انجام شد"),beep.download.showQualityChooserModal(a,b);else{var c=b.message;beep.notify.show(c,{type:"notify-danger"})}}})},updatePrice:function(a){$(".credit-text").text(a)},getDownloadLink:function(a,b,c){var d="/download",e={};e[b]=a,$.ajax({url:d,data:e,type:"POST",dataType:"JSON",success:function(a){1==a.status&&c.call(this,a)}})},hasBought:function(a){return a.hasBought},makeDownload:function(a){$('<iframe width="1" height="1" frameborder="0" src="'+a+'" style="display:none"></iframe>').appendTo("body")},showQualityChooserModal:function(a,b){var c={};c.title="کیفیت دانلود","Video"==a.origin?(c.content=" دانلود "+beep.dic[a.origin]+" "+a.name,c.footer='<p><button class="download-with-quality btn btn-success btn-lg col-lg-12" data-link="'+b.lqLink+'"><span>دانلود با کیفیت خوب</span></button></p><p><button class="download-with-quality btn btn-success btn-lg col-lg-12" data-link="'+b.hqLink+'"><span>دانلود با کیفیت عالی</span> </button></p><div class="download-tip">برای بالابردن سرعت دانلود از فیلترشکن استفاده نکنید.</div>'):(c.content=" دانلود "+beep.dic[a.type]+" "+a.name,c.footer='<p><button class="download-with-quality btn btn-success btn-lg col-lg-12" data-link="'+b.lqLink+'"><span>دانلود با کیفیت</span> <span class="en"> 128Kbps </span> </button></p><p><button class="download-with-quality btn btn-success btn-lg col-lg-12" data-link="'+b.hqLink+'"><span> دانلود با کیفیت </span> <span class="en"> 320Kbps </span> </button></p><div class="download-tip">برای بالابردن سرعت دانلود از فیلترشکن استفاده نکنید.</div>');var d="quality-chooser-modal";beep.modal.show(c,d)}},gift:{ready:$(function(){$(".send-gift").click(function(){var a=$(this);beep.gift.prepare(a),beep.gift.getCsrfToken()}),$("#send-gift").click(function(){$modal=$(this).parents("#gift-form");var a=$modal.data("productData"),b=$modal.find("#gift-receiver-email").val(),c=$modal.find("#gift-receiver-name").val(),d=$modal.find("#gift-receiver-message").val(),e=$modal.find("#csrf-hash-key").val(),f={productData:a,email:b,firstName:c,message:d,csrfHashKey:e};beep.gift.send(f)})}),prepare:function(a){var b={},c=a.parents(".album");b.id=c.data("id"),b.price=c.data("price"),b.name=c.find(".album-title").text(),b.type=c.data("type"),b.origin=c.data("origin"),beep.gift.check(b)},check:function(a){1==beep.user.hasLoggedIn?beep.gift.showModal(a):(beep.login.showModal(),$("#login-tip").text("برای ارسال هدیه باید ابتدا وارد شوید."),beep.login.deferred=$.Deferred(),beep.login.deferred.done(function(){beep.gift.check(a)}))},showModal:function(a){var b=$("#gift-form"),c="";if(c=0==a.price?"<span>رایگان</span>":"<span>"+a.price+"</span><span> تومان </span>","Video"==a.origin)var d="<p class='product-title'><span>"+beep.dic[a.origin]+" "+a.name+"</span></p><p class='gift-price'><span>قیمت: </span>"+c+"</p>";else var d="<p class='product-title'><span>"+beep.dic[a.type]+" "+a.name+"</span></p><p class='gift-price'><span>قیمت: </span>"+c+"</p>";b.data({productData:a}).find(".gift-info").html(d),b.modal()},send:function(a){var b=a.productData,c="/application/user/gift-"+b.type;a[b.type]=b.id,beep.loading.show(),$.ajax({url:c,data:a,type:"POST",dataType:"JSON",success:function(a){if($("#gift-form").modal("hide"),a.status===!0)beep.notify.show(a.message),beep.download.updatePrice(a.credit);else{var c="";c=a.message.replace("{{name}}",name),c=c.replace("{{album}}",b.name),c=c.replace("{{track}}",b.name),beep.notify.show(c,{type:"notify-danger"})}beep.loading.hide()}})},getCsrfToken:function(){var a="/application/auth/get-token";$.ajax({url:a,data:{},type:"POST",success:function(a){$("#csrf-hash-key").val(a)}})}}};beep.loading={$backDrop:{},show:function(){this.createBackDrop(),this.$backDrop.show().addClass("in"),$(".loader-wrap").show()},hide:function(){this.$backDrop.hide(),$(".loader-wrap").hide()},createBackDrop:function(){this.$backDrop=$(".beep-backdrop"),0==this.$backDrop.length&&($("body").append('<div class="beep-backdrop fade"></div>'),this.$backDrop=$(".beep-backdrop"))}};var starRating={$elm:null,hasRatedBefore:null,ready:$(function(){starRating.$elm=$(".star-rating");var a=starRating.$elm.data("history");starRating.hasRatedBefore=a,beep.user.hasLoggedIn===!0&&a!==!0&&starRating.init()}),init:function(){starRating.$elm.find(".star").mouseover(function(){if(!starRating.hasRatedBefore){var a=$(this),b=a.index();starRating.powerOn(b)}}).mouseout(function(){starRating.hasRatedBefore||starRating.powerOff()}).click(function(){if(!starRating.hasRatedBefore){var a=$(this),b=a.index(),c=b+1,d=$(".song-list-widget").eq(0).find(".album").data("id"),e=a.parent().data("type");starRating.rate(d,c,e)}})},powerOn:function(a){this.$elm.attr("data-hover",a)},powerOff:function(){this.$elm.attr("data-hover",-1)},rate:function(a,b,c){var d="/application/"+c+"/rate",e={};e[c]=a,e.score=b,$.ajax({url:d,data:e,type:"POST",dataType:"JSON",success:function(a){a.status===!0&&starRating.applyNewRate(a.rating)}})},applyNewRate:function(a){starRating.$elm.attr("data-rate",a);var b=starRating.$elm.find(".rate-count"),c=b.text(),d=parseInt(c)+1;b.text(d),starRating.disableRating()},disableRating:function(){starRating.$elm.attr("data-history","true"),starRating.$elm.find(".star").unbind("mouseover").unbind("click"),starRating.$elm.removeAttr("data-hover"),starRating.hasRatedBefore=!0},unbind:function(){$(".album-rating").unbind("click"),$(".track-rating").unbind("click")}},player={$el:null,$album:null,currentMediaId:null,currentMediaType:null,playerState:"hidden",playlist:null,ready:$(function(){player.initPlaylist(),$(".jp-close").click(function(){player.hidePlayer()}),$(".jp-fullscreen").click(function(){player.toggleFullscreen()})}),initPlaylist:function(){player.$el=$("#player"),player.$album=$(".album").eq(0),player.playlist=new jPlayerPlaylist({jPlayer:"#player",cssSelectorAncestor:"#player-holder"},defaultPlaylist,{playlistOptions:{enableRemoveControls:!0},supplied:"webmv, ogv, m4v, oga, mp3",smoothPlayBar:!0,keyEnabled:!0,swfPath:"/js/jplayer/Jplayer.swf",volume:1,wmode:"window",solution:"html,flash",size:{width:"975px",height:"auto",cssClass:""}}),player.bindEvents(),$(".album-list-widget").on("click",".play-control",function(){var a=$(this);return player.prepare(a),!1}),$(".jp-toggle-playlist").click(function(){$(".jp-playlist").toggle()}),$("body").click(function(a){0===$(a.target).parents(".media-player").length&&$(".jp-playlist").hide()})},prepare:function(a){var b=a.parents(".album").eq(0);player.$album=b,player.currentMediaId=b.data("id");var c=b.attr("data-state");"play"==c?player.pause(b):"pause"==c?player.play():player.getMedia(b)},destroy:function(){player.$el.jPlayer("destroy")},bindEvents:function(){player.$el.bind($.jPlayer.event.play,function(a){player.onPlay(a)}),player.$el.bind($.jPlayer.event.pause,function(a){player.onPause(a)}),player.$el.bind($.jPlayer.event.ended,function(a){player.onEnd(a)})},onPlay:function(a){var b=$("[data-id="+player.currentMediaId+"]"),c=a.jPlayer.status.media.id||player.currentMediaId,d=b.data("type")||"track";if($(".album").removeAttr("data-state"),b.attr("data-state","play"),"track"!=d||"track"!=beep.page.name&&"album"!=beep.page.name){b.find(".album-author").html();var e=b.find(".album-cover-wrap ").html(),f=b.find(".album-cover-wrap ").data("cover"),g=b.find(".album-title").html()}else{var h=$(".media-extra .album-author a");h.text(),h.attr("href");var e=$(".album-cover-wrap ").html(),f=$(".album-cover-wrap").data("cover"),i=$(".media-title").text(),g='<a href="/album/1674163" class="album-title-text">'+i+"</a>"}var j='<a href="/track/'+c+'" >'+e+"</a>",k='<div class="download" title="دانلود آهنگ"></div>',l='<div class="album-title"><a href="/album/3421281" class="album-title-text">'+a.jPlayer.status.media.title+"</a></div>",m='<div class="album" data-price="" data-id="'+c+'" data-type="track">'+j+k+l+"</div>",n='<a href="/track/'+c+'" class="track-title-text">'+a.jPlayer.status.media.title+"</a>",o=n+"<span> از آلبوم </span>"+g;$(".media-player .jp-title li").html(o),$("#player").find(".album").remove().end().append(m);var p='<div class="skin" style="background-image: url('+f+')"></div>';$(".skin-mask").html(p),player.bindTrackDownloadEvent()},onPause:function(){var a=$("[data-id="+player.currentMediaId+"]");a.attr("data-state","pause")},onEnd:function(a){var b=a.jPlayer.status.media.id||player.currentMediaId;player.continuousPlay(b)},setPlayerCaption:function(a){$(".jp-title li").text(a)},bindTrackDownloadEvent:function(){$("#player .download").unbind("click").bind("click",function(){var a=$(this);beep.download.click(a)})},getMedia:function(a){var b=a.data("type");"track"==b?this.getTrack(a):this.getPlaylist(a)},getPlaylist:function(a){var b=a.data("id"),c=a.find(".album-cover").attr("src");player.currentMediaType="album",$.ajax({url:"/application/album/get-playlist-tracks",data:{id:b},type:"POST",dataType:"JSON",success:function(a){if(1==a.status){for(var b=0;b<a.tracks.length;b++)a.tracks[b]=_.extend(a.tracks[b],{poster:c}),a.tracks[b].artist=a.tracks[b].trackNumber;player.loadPlaylist(a.tracks),setTimeout(function(){player.play()},1600)}}})},getTrack:function(a){var b=a.data("id"),c={},d=a.find(".album-title-text").text();player.currentMediaType="track";var e=$(".album-cover").eq(0).attr("src");c.title=d,c.poster=e,$.ajax({url:"/download",data:{track:b,preview:!0},type:"POST",dataType:"JSON",success:function(a){if(1==a.status){var b="";b="VIDEO"===a.type?"m4v":"mp3",c[b]=1==a.hasBought?a.lqLink:a.previewLink,player.loadPlaylist([c]),setTimeout(function(){player.play()},1e3)}}})},continuousPlay:function(a){"track"==player.currentMediaType&&($album=$(".album[data-id="+a+"]").next(".album"),$album.length&&(player.currentMediaId=$album.data("id"),player.getMedia($album)))},loadPlaylist:function(a){var a=a||window.defaultPlaylist;player.playlist.setPlaylist(a)},play:function(){player.$el.jPlayer("play"),"hidden"==this.playerState&&this.showPlayer()},pause:function(){player.$el.jPlayer("pause")},stop:function(){player.$el.jPlayer("stop")},showPlayer:function(){this.playerState="visible",$(".media-player").addClass("ready").find("video").show(),$(".wrapper>footer").addClass("player-visible")},hidePlayer:function(){this.playerState="hidden",$(".jp-playlist").hide(),$(".media-player").removeClass("ready fullscreen").find("video").hide(),$(".wrapper>footer").removeClass("player-visible"),$(".jp-fullscreen").data("state","off"),player.pause()},launchFullscreen:function(a){a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()},exitFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},toggleFullscreen:function(){var a=$(".jp-fullscreen"),b=a.data("state")||"off";"off"===b?($(".media-player").addClass("fullscreen"),a.data("state","on")):"on"===b&&($(".media-player").removeClass("fullscreen"),a.data("state","off"))}},defaultPlaylist=[];beep.search={timeout:{overall:{},artist:{}},threshold:500,token:{overall:"",artist:""},ready:$(function(){$(".search").submit(function(a){var b=$(this).find(".search-input").val();window.location.href="/search/"+b,a.preventDefault()}),$(".search-input").keyup(function(){var a=$(this),b=a.val().trim(),c=a.data("search");""==b?beep.search.hide[c]():b!==beep.search.token[c]&&(beep.search.token[c]=b,beep.search.process(c))}).focus(function(){var a=$(this),b=a.val().trim(),c=a.data("search");""==b?beep.search.hide[c]():b!==beep.search.token[c]&&(beep.search.token[c]=b,beep.search.process(c))}),$("body").click(function(a){var b=$(a.target);0===b.parents(".search").length&&beep.search.hide.overall()}),$(".search-sub-menu .search-input").focus(function(){$(this).parents("li.sub").addClass("hover")}).blur(function(){$(this).parents("li.sub").removeClass("hover")}),$(".search .more").click(function(a){$(this).parents("form").submit(),a.preventDefault()})}),process:function(a){this.timeout[a]=setTimeout(function(){beep.search.start(beep.search.token[a],a)},this.threshold)},start:function(a,b){var c="/application/search/"+b;$.ajax({url:c,type:"POST",dataType:"JSON",async:!0,data:{keyword:a},success:function(a){a&&beep.search.decorate[b](a)},error:function(){console.log("error")}})},decorate:{overall:function(a){if(0!==a.albums.length){var b=$("#album-template").html();b=_.template(b,{albums:a.albums,dimension:"60x60"}),b='<header>آلبوم‌ها</header><div class="wrap-side"><div class="album-holder">'+b+"</div></div>",$(".search-result-albums").html(b).addClass("show-item")}else $(".search-result-albums").removeClass("show-item");if(0!==a.tracks.length){var c=$("#track-template").html();c=_.template(c,{tracks:a.tracks,dimension:"60x60"}),c='<header>آهنگ‌ها</header><div class="wrap-side"><div class="album-holder">'+c+"</div></div>",$(".search-result-tracks").html(c).addClass("show-item")}else $(".search-result-tracks").removeClass("show-item");if(0!==a.artists.length){var d=$("#artist-template").html();d=_.template(d,{artists:a.artists,dimension:"60x60"}),d='<header>هنرمندان</header><div class="wrap-side"><div class="album-holder">'+d+"</div></div>",$(".search .search-result-artists").html(d).addClass("show-item")}else $(".search .search-result-artists").removeClass("show-item");0==a.artists.length&&0==a.tracks.length&&0==a.albums.length?($(".search-result-pane footer .more").hide(),$(".search-result-pane footer .not-found").show()):($(".search-result-pane footer .more").css("display","block"),$(".search-result-pane footer .not-found").hide())},artist:function(a){if(a){var b=$("#artist-template").html();b=_.template(b,{artists:a.artists,dimension:"60x60"}),$(".search-sub-menu .search-result-artists").html(b).addClass("show-item")}else $(".search-sub-menu .search-result-artists").removeClass("show-item")}},hide:{overall:function(){$(".search-result-pane .beep-side-widget").removeClass("show-item"),$(".search-result-pane footer .node").hide()},artist:function(){}},show:{overall:function(){$(".search-result-pane .beep-side-widget").addClass("show"),$(".search-result-pane footer .more").css("display","block")},artist:function(){}},clear:{overall:function(){$(".search-input").val("")},artist:function(){}}},beep.page={name:"",ready:$(function(){var a=$(".media-extra .more-info-content").html();$(".media-extra .more-info-wrap").popover({content:a,html:!0}),$(".tip").tooltip(),$("body").click(function(a){var b=$(a.target);0!=b.parents(".media-related").length||b.hasClass("tip")||($('[data-toggle="popover"]').popover("hide"),$(".popover").remove())})}),rbtCodes:{ready:$(function(){beep.page.rbtCodes.init()}),init:function(){for(var a=$(".mobile-wrap"),b=0;b<a.length;b++){var c=a.eq(b).find(".ringback-tone-content").html();a.eq(b).popover({content:c,html:!0})}}},sharing:{ready:$(function(){beep.page.sharing.init()}),init:function(){for(var a=$(".share"),b=0;b<a.length;b++){var c=a.eq(b).find(".share-content").html();a.eq(b).popover({content:c,html:!0})}}}},beep.like={$elm:{},ready:$(function(){beep.user.hasLoggedIn===!0&&beep.like.init()}),init:function(){var a="/application/artist/like",b=$(".artist-wrap").data("id");beep.like.$elm=$(".heart"),beep.like.$elm.click(function(){$(this);var c=beep.like.$elm.attr("data-state");c="true"===c?!1:!0,$.ajax({url:a,type:"POST",data:{artist:b,like:c},success:function(a){"true"===a&&(c?beep.like.like():beep.like.dislike())}})}),beep.like.$elm.attr("data-hover",1)},like:function(){var a=beep.like.$elm,b=a.siblings(".count"),c=parseInt(b.text());a.attr("data-state","true"),c+=1,b.text(c)},dislike:function(){var a=beep.like.$elm,b=a.siblings(".count"),c=parseInt(b.text());a.attr("data-state","false"),c-=1,b.text(c)},unbind:function(){$(".like").unbind("click")}},beep.bookmark={$elm:{},ready:$(function(){beep.bookmark.init()}),init:function(){beep.bookmark.$elm=$(".bookmark"),beep.bookmark.$elm.click(function(){beep.user.hasLoggedIn===!0?beep.bookmark.request():(beep.login.showModal(),$("#login-tip").text("برای نشان کردن(یادآوری خرید) ابتدا باید ابتدا وارد شوید."),beep.login.deferred=$.Deferred(),beep.login.deferred.done(function(){beep.bookmark.request()}))})},request:function(){var a=beep.bookmark.$elm.parents(".album"),b=a.data("id"),c=a.data("type"),d=beep.bookmark.$elm.attr("data-state");d="true"===d?!1:!0;var e={bookmark:d};e[c]=b;var f="/application/"+c+"/bookmark";$.ajax({url:f,type:"POST",dataType:"JSON",data:e,success:function(a){a.status===!0&&(d?beep.bookmark.bookmark():beep.bookmark.unBookmark())}})},bookmark:function(){beep.bookmark.$elm.attr("data-hover",1),beep.bookmark.$elm.attr("data-state","true")},unBookmark:function(){beep.bookmark.$elm.attr("data-hover",1),beep.bookmark.$elm.attr("data-state","false")},unbind:function(){$(".bookmark").unbind("click")}},beep.album={ready:$(function(){$(".mode-switch-wrap .switch").click(function(){var a=$(this),b=a.data("mode");$(".mode-switch-wrap .switch").removeClass("selected"),a.addClass("selected").parents(".album-list-widget").removeClass("mode-block mode-table").addClass(b)})})},beep.notify={$el:null,$notify:null,ready:$(function(){beep.notify.$el=$("#notify"),beep.notify.$notify=beep.notify.$el.find(".notify").click(function(){beep.notify.hide()})}),show:function(a,b){beep.notify.reset();var b=b||{},c=b.type||"",d=beep.notify.$notify;b.autoHide&&this.autoHide(b.autoHide),d.html(a);var e=$(window).width(),f=beep.notify.$el.outerWidth(),g=e/2-f/2;beep.notify.$el.css("left",g).addClass("in "+c)},autoHide:function(a){setTimeout(function(){beep.notify.hide()},1e3*a)},hide:function(){beep.notify.$el.removeClass("in")},reset:function(){beep.notify.$el.attr("class",""),beep.notify.$notify.attr("style","")}},beep.dic={track:"آهنگ",album:"آلبوم",Video:"ویدئو"},beep.sideScoller={ready:$(function(){$(".album-list-widget.mode-block nav li").click(function(){var a=$(this),b=a.data("action"),c=a.parents(".album-list-widget");beep.sideScoller.run(c,b)}),$(".album-list-widget.mode-block .filters .genre").click(function(){var a=$(this),b=a.data("genre"),c=a.parents(".album-list-widget");a.parent().find(".genre").removeClass("selected"),a.addClass("selected"),c.data("scroll-genre",b),beep.sideScoller.run(c,"filterGenre",!0)}),$(".album-list-widget.mode-block .filters .period").click(function(){var a=$(this),b=a.data("period"),c=a.parents(".album-list-widget");a.parent().find(".period").removeClass("selected"),a.addClass("selected"),c.data("scroll-period",b),beep.sideScoller.run(c,"filterGenre",!0)})}),run:function(a,b,c){var d=a.data("scroll-type"),e=a.data("scroll-group"),f=a.data("scroll-total"),g=a.data("scroll-page")||1,h=a.data("scroll-template"),i=a.data("scroll-lead")||1,j=a.data("scroll-period")||"",k=a.data("scroll-genre")||"all";return"previous"==b&&1===g?!1:(beep.sideScoller.prepare({$el:a,action:b,type:d,group:e,total:f,page:g,q:window.searchTerm||"",template:h,lead:i,period:j,genre:k},c),void 0)},updatePage:function(a,b){"next"==a.action?(a.page++,a.page>a.lead?(a.$el.data("scroll-lead",a.page),this.load(a,function(a){var c=a.data,d=a.response;0!==d.length&&(beep.sideScoller.decorate(c,d),b||beep.sideScoller.scroll(c))})):b||beep.sideScoller.scroll(a)):"previous"==a.action?(a.page--,b||beep.sideScoller.scroll(a)):"filterGenre"==a.action&&(a.$el.addClass("loading"),a.$el.data("scroll-lead",1),a.$el.data("scroll-page",1),a.page=1,this.load(a,function(a){var b=a.data,c=a.response;0!==c.length&&(b.$el.find(".album-holder"),beep.sideScoller.animateGenre(b,c))})),a.page>1?a.$el.attr("data-scroll-double-side","true"):a.$el.removeAttr("data-scroll-double-side"),a.$el.data("scroll-page",a.page)},prepare:function(a,b){if("same-genre"==a.group){var c=$(".album").eq(0).data("id");a.type=a.type+"-"+c}this.updatePage(a,b)},load:function(a,b){var c={q:a.q,type:a.type,page:a.page,total:a.total,period:a.period},d=b;"all"!=a.genre&&(c.genre=a.genre),$.ajax({url:"/application/page/index",type:"POST",dataType:"JSON",data:c,success:function(b){d.call(this,{data:a,response:b})}})},decorate:function(a,b){var c=$("#"+a.template+"-template").html(),d={},e=a.$el.find(".album-holder");d[a.template+"s"]=b,d.dimension="150x150",c=_.template(c,d),e.append(c)},scroll:function(a){var b=a.$el.find(".album-holder"),c=b.find(".album").eq(0),d=c.outerWidth(!0);d=d*a.total*(a.page-1),b.css("right",-d)},animateGenre:function(a,b){var c=a.$el.find(".album-holder");c.css("top",185),setTimeout(function(){c.css("right",0),c.html("")},900),setTimeout(function(){a.$el.removeAttr("data-scroll-double-side"),c.css("top",0),beep.sideScoller.decorate(a,b)},1800),setTimeout(function(){a.$el.removeClass("loading")},2700)}},beep.form={ready:$(function(){beep.form.inputValidation()}),inputValidation:function(){for(var a=document.getElementsByTagName("input"),b=0;b<a.length;b++)a[b].oninvalid=function(a){if(a.target.setCustomValidity(""),!a.target.validity.valid){var b=$(a.target).attr("placeholder");void 0==b?b="این فیلد می بایست مقدار داشته باشد":b+=" می بایست مقداری معتبر داشته باشد",a.target.setCustomValidity(b)}},a[b].oninput=function(a){a.target.setCustomValidity("")}}},beep.crossAction={load:function(a){switch(a.type){case"login":this.actions.login();break;case"login-redirect":this.actions.loginAndRedirect(a.redirectTo)}},actions:{login:function(){beep.login.showModal()},loginAndRedirect:function(a){var a=a;beep.login.showModal(),beep.login.deferred=$.Deferred(),beep.login.deferred.done(function(){window.location.href=a})}}},$(function(){$(".album-holder").scroll(function(){this.scrollTop=0})}),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(window.jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(window.jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();
var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(window.jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),function(a,b){jPlayerPlaylist=function(b,c,d){var e=this;this.current=0,this.removing=this.shuffled=this.loop=!1,this.cssSelector=a.extend({},this._cssSelector,b),this.options=a.extend(!0,{keyBindings:{next:{key:39,fn:function(){e.next()}},previous:{key:37,fn:function(){e.previous()}}}},this._options,d),this.playlist=[],this.original=[],this._initPlaylist(c),this.cssSelector.title=this.cssSelector.cssSelectorAncestor+" .jp-title",this.cssSelector.playlist=this.cssSelector.cssSelectorAncestor+" .jp-playlist",this.cssSelector.next=this.cssSelector.cssSelectorAncestor+" .jp-next",this.cssSelector.previous=this.cssSelector.cssSelectorAncestor+" .jp-previous",this.cssSelector.shuffle=this.cssSelector.cssSelectorAncestor+" .jp-shuffle",this.cssSelector.shuffleOff=this.cssSelector.cssSelectorAncestor+" .jp-shuffle-off",this.options.cssSelectorAncestor=this.cssSelector.cssSelectorAncestor,this.options.repeat=function(a){e.loop=a.jPlayer.options.loop},a(this.cssSelector.jPlayer).bind(a.jPlayer.event.ready,function(){e._init()}),a(this.cssSelector.jPlayer).bind(a.jPlayer.event.ended,function(){e.next()}),a(this.cssSelector.jPlayer).bind(a.jPlayer.event.play,function(){a(this).jPlayer("pauseOthers")}),a(this.cssSelector.jPlayer).bind(a.jPlayer.event.resize,function(b){b.jPlayer.options.fullScreen?a(e.cssSelector.title).show():a(e.cssSelector.title).hide()}),a(this.cssSelector.previous).click(function(){return e.previous(),a(this).blur(),!1}),a(this.cssSelector.next).click(function(){return e.next(),a(this).blur(),!1}),a(this.cssSelector.shuffle).click(function(){return e.shuffle(!0),!1}),a(this.cssSelector.shuffleOff).click(function(){return e.shuffle(!1),!1}).hide(),this.options.fullScreen||a(this.cssSelector.title).hide(),a(this.cssSelector.playlist+" ul").empty(),this._createItemHandlers(),a(this.cssSelector.jPlayer).jPlayer(this.options)},jPlayerPlaylist.prototype={_cssSelector:{jPlayer:"#jquery_jplayer_1",cssSelectorAncestor:"#jp_container_1"},_options:{playlistOptions:{autoPlay:!1,loopOnPrevious:!1,shuffleOnLoop:!0,enableRemoveControls:!1,displayTime:"slow",addTime:"fast",removeTime:"fast",shuffleTime:"slow",itemClass:"jp-playlist-item",freeGroupClass:"jp-free-media",freeItemClass:"jp-playlist-item-free",removeItemClass:"jp-playlist-item-remove"}},option:function(a,c){if(c===b)return this.options.playlistOptions[a];switch(this.options.playlistOptions[a]=c,a){case"enableRemoveControls":this._updateControls();break;case"itemClass":case"freeGroupClass":case"freeItemClass":case"removeItemClass":this._refresh(!0),this._createItemHandlers()}return this},_init:function(){var a=this;this._refresh(function(){a.options.playlistOptions.autoPlay?a.play(a.current):a.select(a.current)})},_initPlaylist:function(b){this.current=0,this.removing=this.shuffled=!1,this.original=a.extend(!0,[],b),this._originalPlaylist()},_originalPlaylist:function(){var b=this;this.playlist=[],a.each(this.original,function(a){b.playlist[a]=b.original[a]})},_refresh:function(b){var c=this;if(b&&!a.isFunction(b))a(this.cssSelector.playlist+" ul").empty(),a.each(this.playlist,function(b){a(c.cssSelector.playlist+" ul").append(c._createListItem(c.playlist[b]))}),this._updateControls();else{var d=a(this.cssSelector.playlist+" ul").children().length?this.options.playlistOptions.displayTime:0;a(this.cssSelector.playlist+" ul").slideUp(d,function(){var d=a(this);a(this).empty(),a.each(c.playlist,function(a){d.append(c._createListItem(c.playlist[a]))}),c._updateControls(),a.isFunction(b)&&b(),c.playlist.length?a(this).slideDown(c.options.playlistOptions.displayTime):a(this).show()})}},_createListItem:function(b){var c=this,d="<li><div>",d=d+("<a href='javascript:;' class='"+this.options.playlistOptions.removeItemClass+"'>&times;</a>");if(b.free){var e=!0,d=d+("<span class='"+this.options.playlistOptions.freeGroupClass+"'>(");a.each(b,function(b,f){a.jPlayer.prototype.format[b]&&(e?e=!1:d+=" | ",d+="<a class='"+c.options.playlistOptions.freeItemClass+"' href='"+f+"' tabindex='1'>"+b+"</a>")}),d+=")</span>"}return d+="<a href='javascript:;' class='"+this.options.playlistOptions.itemClass+"' tabindex='1'>"+b.title+(b.artist?" <span class='jp-artist'>"+b.artist+"</span>":"")+"</a>",d+="</div></li>"},_createItemHandlers:function(){var b=this;a(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.itemClass).on("click","a."+this.options.playlistOptions.itemClass,function(){var c=a(this).parent().parent().index();return b.current!==c?b.play(c):a(b.cssSelector.jPlayer).jPlayer("play"),a(this).blur(),!1}),a(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.freeItemClass).on("click","a."+this.options.playlistOptions.freeItemClass,function(){return a(this).parent().parent().find("."+b.options.playlistOptions.itemClass).click(),a(this).blur(),!1}),a(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.removeItemClass).on("click","a."+this.options.playlistOptions.removeItemClass,function(){var c=a(this).parent().parent().index();return b.remove(c),a(this).blur(),!1})},_updateControls:function(){this.options.playlistOptions.enableRemoveControls?a(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).show():a(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).hide(),this.shuffled?(a(this.cssSelector.shuffleOff).show(),a(this.cssSelector.shuffle).hide()):(a(this.cssSelector.shuffleOff).hide(),a(this.cssSelector.shuffle).show())},_highlight:function(c){this.playlist.length&&c!==b&&(a(this.cssSelector.playlist+" .jp-playlist-current").removeClass("jp-playlist-current"),a(this.cssSelector.playlist+" li:nth-child("+(c+1)+")").addClass("jp-playlist-current").find(".jp-playlist-item").addClass("jp-playlist-current"),a(this.cssSelector.title+" li").html(this.playlist[c].title+(this.playlist[c].artist?" <span class='jp-artist'>"+this.playlist[c].artist+"</span>":"")))},setPlaylist:function(a){this._initPlaylist(a),this._init()},add:function(b,c){a(this.cssSelector.playlist+" ul").append(this._createListItem(b)).find("li:last-child").hide().slideDown(this.options.playlistOptions.addTime),this._updateControls(),this.original.push(b),this.playlist.push(b),c?this.play(this.playlist.length-1):1===this.original.length&&this.select(0)},remove:function(c){var d=this;return c===b?(this._initPlaylist([]),this._refresh(function(){a(d.cssSelector.jPlayer).jPlayer("clearMedia")}),!0):this.removing?!1:(c=0>c?d.original.length+c:c,c>=0&&c<this.playlist.length&&(this.removing=!0,a(this.cssSelector.playlist+" li:nth-child("+(c+1)+")").slideUp(this.options.playlistOptions.removeTime,function(){if(a(this).remove(),d.shuffled){var b=d.playlist[c];a.each(d.original,function(a){return d.original[a]===b?(d.original.splice(a,1),!1):void 0})}else d.original.splice(c,1);d.playlist.splice(c,1),d.original.length?c===d.current?(d.current=c<d.original.length?d.current:d.original.length-1,d.select(d.current)):c<d.current&&d.current--:(a(d.cssSelector.jPlayer).jPlayer("clearMedia"),d.current=0,d.shuffled=!1,d._updateControls()),d.removing=!1})),!0)},select:function(b){b=0>b?this.original.length+b:b,b>=0&&b<this.playlist.length?(this.current=b,this._highlight(b),a(this.cssSelector.jPlayer).jPlayer("setMedia",this.playlist[this.current])):this.current=0},play:function(c){c=0>c?this.original.length+c:c,c>=0&&c<this.playlist.length?this.playlist.length&&(this.select(c),a(this.cssSelector.jPlayer).jPlayer("play")):c===b&&a(this.cssSelector.jPlayer).jPlayer("play")},pause:function(){a(this.cssSelector.jPlayer).jPlayer("pause")},next:function(){var a=this.current+1<this.playlist.length?this.current+1:0;this.loop?0===a&&this.shuffled&&this.options.playlistOptions.shuffleOnLoop&&1<this.playlist.length?this.shuffle(!0,!0):this.play(a):a>0&&this.play(a)},previous:function(){var a=0<=this.current-1?this.current-1:this.playlist.length-1;(this.loop&&this.options.playlistOptions.loopOnPrevious||a<this.playlist.length-1)&&this.play(a)},shuffle:function(c,d){var e=this;c===b&&(c=!this.shuffled),(c||c!==this.shuffled)&&a(this.cssSelector.playlist+" ul").slideUp(this.options.playlistOptions.shuffleTime,function(){(e.shuffled=c)?e.playlist.sort(function(){return.5-Math.random()}):e._originalPlaylist(),e._refresh(!0),d||!a(e.cssSelector.jPlayer).data("jPlayer").status.paused?e.play(0):e.select(0),a(this).slideDown(e.options.playlistOptions.shuffleTime)})}}}(jQuery),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):a.jQuery?b(a.jQuery):b(a.Zepto)}(this,function(a,b){a.fn.jPlayer=function(c){var d="jPlayer",e="string"==typeof c,f=Array.prototype.slice.call(arguments,1),g=this;return c=!e&&f.length?a.extend.apply(null,[!0,c].concat(f)):c,e&&"_"===c.charAt(0)?g:(e?this.each(function(){var e=a(this).data(d),h=e&&a.isFunction(e[c])?e[c].apply(e,f):e;return h!==e&&h!==b?(g=h,!1):void 0}):this.each(function(){var b=a(this).data(d);b?b.option(c||{}):a(this).data(d,new a.jPlayer(c,this))}),g)},a.jPlayer=function(b,c){if(arguments.length){this.element=a(c),this.options=a.extend(!0,{},this.options,b);var d=this;this.element.bind("remove.jPlayer",function(){d.destroy()}),this._init()}},"function"!=typeof a.fn.stop&&(a.fn.stop=function(){}),a.jPlayer.emulateMethods="load play pause",a.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",a.jPlayer.emulateOptions="muted volume",a.jPlayer.reservedEvent="ready flashreset resize repeat error warning",a.jPlayer.event={},a.each(["ready","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){a.jPlayer.event[this]="jPlayer_"+this}),a.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","ratechange"],a.jPlayer.pause=function(){a.each(a.jPlayer.prototype.instances,function(a,b){b.data("jPlayer").status.srcSet&&b.jPlayer("pause")})},a.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var c=function(){this.init()};c.prototype={init:function(){this.options={timeFormat:a.jPlayer.timeFormat}},time:function(a){a=a&&"number"==typeof a?a:0;var b=new Date(1e3*a),c=b.getUTCHours(),d=this.options.timeFormat.showHour?b.getUTCMinutes():b.getUTCMinutes()+60*c,e=this.options.timeFormat.showMin?b.getUTCSeconds():b.getUTCSeconds()+60*d,f=this.options.timeFormat.padHour&&10>c?"0"+c:c,g=this.options.timeFormat.padMin&&10>d?"0"+d:d,h=this.options.timeFormat.padSec&&10>e?"0"+e:e,i="";return i+=this.options.timeFormat.showHour?f+this.options.timeFormat.sepHour:"",i+=this.options.timeFormat.showMin?g+this.options.timeFormat.sepMin:"",i+=this.options.timeFormat.showSec?h+this.options.timeFormat.sepSec:""}};var d=new c;a.jPlayer.convertTime=function(a){return d.time(a)},a.jPlayer.uaBrowser=function(a){var b=a.toLowerCase(),c=/(webkit)[ \/]([\w.]+)/,d=/(opera)(?:.*version)?[ \/]([\w.]+)/,e=/(msie) ([\w.]+)/,f=/(mozilla)(?:.*? rv:([\w.]+))?/,g=c.exec(b)||d.exec(b)||e.exec(b)||b.indexOf("compatible")<0&&f.exec(b)||[];return{browser:g[1]||"",version:g[2]||"0"}},a.jPlayer.uaPlatform=function(a){var b=a.toLowerCase(),c=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,d=/(ipad|playbook)/,e=/(android)/,f=/(mobile)/,g=c.exec(b)||[],h=d.exec(b)||!f.exec(b)&&e.exec(b)||[];return g[1]&&(g[1]=g[1].replace(/\s/g,"_")),{platform:g[1]||"",tablet:h[1]||""}},a.jPlayer.browser={},a.jPlayer.platform={};var e=a.jPlayer.uaBrowser(navigator.userAgent);e.browser&&(a.jPlayer.browser[e.browser]=!0,a.jPlayer.browser.version=e.version);var f=a.jPlayer.uaPlatform(navigator.userAgent);f.platform&&(a.jPlayer.platform[f.platform]=!0,a.jPlayer.platform.mobile=!f.tablet,a.jPlayer.platform.tablet=!!f.tablet),a.jPlayer.getDocMode=function(){var b;return a.jPlayer.browser.msie&&(document.documentMode?b=document.documentMode:(b=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(b=7))),b},a.jPlayer.browser.documentMode=a.jPlayer.getDocMode(),a.jPlayer.nativeFeatures={init:function(){var a,b,c,d=document,e=d.createElement("video"),f={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""]},g=["w3c","moz","webkit","webkitVideo"];for(this.fullscreen=a={support:{w3c:!!d[f.w3c[0]],moz:!!d[f.moz[0]],webkit:"function"==typeof d[f.webkit[3]],webkitVideo:"function"==typeof e[f.webkitVideo[2]]},used:{}},b=0,c=g.length;c>b;b++){var h=g[b];if(a.support[h]){a.spec=h,a.used[h]=!0;break}}if(a.spec){var i=f[a.spec];a.api={fullscreenEnabled:!0,fullscreenElement:function(a){return a=a?a:d,a[i[1]]},requestFullscreen:function(a){return a[i[2]]()},exitFullscreen:function(a){return a=a?a:d,a[i[3]]()}},a.event={fullscreenchange:i[4],fullscreenerror:i[5]}}else a.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},a.event={}}},a.jPlayer.nativeFeatures.init(),a.jPlayer.focus=null,a.jPlayer.keyIgnoreElementNames="INPUT TEXTAREA";var g=function(b){var c,d=a.jPlayer.focus;d&&(a.each(a.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(a,d){return b.target.nodeName.toUpperCase()===d.toUpperCase()?(c=!0,!1):void 0}),c||a.each(d.options.keyBindings,function(c,e){return e&&b.which===e.key&&a.isFunction(e.fn)?(b.preventDefault(),e.fn(d),!1):void 0}))};a.jPlayer.keys=function(b){var c="keydown.jPlayer";a(document.documentElement).unbind(c),b&&a(document.documentElement).bind(c,g)},a.jPlayer.keys(!0),a.jPlayer.prototype={count:0,version:{script:"2.4.1",needFlash:"2.4.1",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:.8,muted:!1,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(b){b.jPlayer.options.loop?a(this).unbind(".jPlayerRepeat").bind(a.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){a(this).jPlayer("play")}):a(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:32,fn:function(a){a.status.paused?a.play():a.pause()}},fullScreen:{key:13,fn:function(a){(a.status.video||a.options.audioFullScreen)&&a._setOption("fullScreen",!a.options.fullScreen)}},muted:{key:8,fn:function(a){a._muted(!a.options.muted)}},volumeUp:{key:38,fn:function(a){a.volume(a.options.volume+.1)}},volumeDown:{key:40,fn:function(a){a.volume(a.options.volume-.1)}}},verticalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,flash:!0},format:{mp3:{codec:"audio/mpeg;",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var c=this;if(this.element.empty(),this.status=a.extend({},this.status),this.internal=a.extend({},this.internal),this.options.timeFormat=a.extend({},a.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=a.jPlayer.platform.ipad||a.jPlayer.platform.iphone||a.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!a.jPlayer.focus&&(a.jPlayer.focus=this),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),a.each(this.options.supplied.toLowerCase().split(","),function(b,d){var e=d.replace(/^\s+|\s+$/g,"");if(c.format[e]){var f=!1;a.each(c.formats,function(a,b){return e===b?(f=!0,!1):void 0}),f||c.formats.push(e)}}),a.each(this.options.solution.toLowerCase().split(","),function(b,d){var e=d.replace(/^\s+|\s+$/g,"");if(c.solution[e]){var f=!1;a.each(c.solutions,function(a,b){return e===b?(f=!0,!1):void 0}),f||c.solutions.push(e)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=a.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=a.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:b}),this.internal.video=a.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:b}),this.internal.flash=a.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:b,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"Jplayer.swf":"")}),this.internal.poster=a.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:b}),a.each(a.jPlayer.event,function(a,d){c.options[a]!==b&&(c.element.bind(d+".jPlayer",c.options[a]),c.options[a]=b)}),this.require.audio=!1,this.require.video=!1,a.each(this.formats,function(a,b){c.require[c.format[b].media]=!0}),this.options=this.require.video?a.extend(!0,{},this.optionsVideo,this.options):a.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),a.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!c.status.video||c.status.waitForPlay)&&c.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=a("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){c._trigger(a.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.flash.canPlay={},a.each(this.formats,function(a,b){c.html.canPlay[b]=c.html[c.format[b].media].available&&""!==c.htmlElement[c.format[b].media].canPlayType(c.format[b].codec),c.flash.canPlay[b]=c.format[b].flashCanPlay&&c.flash.available
}),this.html.desired=!1,this.flash.desired=!1,a.each(this.solutions,function(b,d){if(0===b)c[d].desired=!0;else{var e=!1,f=!1;a.each(c.formats,function(a,b){c[c.solutions[0]].canPlay[b]&&("video"===c.format[b].media?f=!0:e=!0)}),c[d].desired=c.require.audio&&!e||c.require.video&&!f}}),this.html.support={},this.flash.support={},a.each(this.formats,function(a,b){c.html.support[b]=c.html.canPlay[b]&&c.html.desired,c.flash.support[b]=c.flash.canPlay[b]&&c.flash.desired}),this.html.used=!1,this.flash.used=!1,a.each(this.solutions,function(b,d){a.each(c.formats,function(a,b){return c[d].support[b]?(c[d].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:a.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:a.jPlayer.errorMsg.NO_SOLUTION,hint:a.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var d,e="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(a.jPlayer.browser.msie&&(Number(a.jPlayer.browser.version)<9||a.jPlayer.browser.documentMode<9)){var f='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',g=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+e+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];d=document.createElement(f);for(var h=0;h<g.length;h++)d.appendChild(document.createElement(g[h]))}else{var i=function(a,b,c){var d=document.createElement("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)};d=document.createElement("object"),d.setAttribute("id",this.internal.flash.id),d.setAttribute("name",this.internal.flash.id),d.setAttribute("data",this.internal.flash.swf),d.setAttribute("type","application/x-shockwave-flash"),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("tabindex","-1"),i(d,"flashvars",e),i(d,"allowscriptaccess","always"),i(d,"bgcolor",this.options.backgroundColor),i(d,"wmode",this.options.wmode)}this.element.append(d),this.internal.flash.jq=a(d)}this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=a("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=a("#"+this.internal.video.id),this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){c._trigger(a.jPlayer.event.click)}))),this.options.emulateHtml&&this._emulateHtmlBridge(),this.html.used&&!this.flash.used&&setTimeout(function(){c.internal.ready=!0,c.version.flash="n/a",c._trigger(a.jPlayer.event.repeat),c._trigger(a.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),a.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),a.each(this.css.jq,function(a,b){b.length&&b.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===a.jPlayer.focus&&(a.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},enable:function(){},disable:function(){},_testCanPlayType:function(a){try{return a.canPlayType(this.format.mp3.codec),!0}catch(b){return!1}},_uaBlocklist:function(b){var c=navigator.userAgent.toLowerCase(),d=!1;return a.each(b,function(a,b){return b&&b.test(c)?(d=!0,!1):void 0}),d},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(b,c){var d=this;b.preload=this.options.preload,b.muted=this.options.muted,b.volume=this.options.volume,b.addEventListener("progress",function(){c.gate&&(d.internal.cmdsIgnored&&this.readyState>0&&(d.internal.cmdsIgnored=!1),d._getHtmlStatus(b),d._updateInterface(),d._trigger(a.jPlayer.event.progress))},!1),b.addEventListener("timeupdate",function(){c.gate&&(d._getHtmlStatus(b),d._updateInterface(),d._trigger(a.jPlayer.event.timeupdate))},!1),b.addEventListener("durationchange",function(){c.gate&&(d._getHtmlStatus(b),d._updateInterface(),d._trigger(a.jPlayer.event.durationchange))},!1),b.addEventListener("play",function(){c.gate&&(d._updateButtons(!0),d._html_checkWaitForPlay(),d._trigger(a.jPlayer.event.play))},!1),b.addEventListener("playing",function(){c.gate&&(d._updateButtons(!0),d._seeked(),d._trigger(a.jPlayer.event.playing))},!1),b.addEventListener("pause",function(){c.gate&&(d._updateButtons(!1),d._trigger(a.jPlayer.event.pause))},!1),b.addEventListener("waiting",function(){c.gate&&(d._seeking(),d._trigger(a.jPlayer.event.waiting))},!1),b.addEventListener("seeking",function(){c.gate&&(d._seeking(),d._trigger(a.jPlayer.event.seeking))},!1),b.addEventListener("seeked",function(){c.gate&&(d._seeked(),d._trigger(a.jPlayer.event.seeked))},!1),b.addEventListener("volumechange",function(){c.gate&&(d.options.volume=b.volume,d.options.muted=b.muted,d._updateMute(),d._updateVolume(),d._trigger(a.jPlayer.event.volumechange))},!1),b.addEventListener("suspend",function(){c.gate&&(d._seeked(),d._trigger(a.jPlayer.event.suspend))},!1),b.addEventListener("ended",function(){c.gate&&(a.jPlayer.browser.webkit||(d.htmlElement.media.currentTime=0),d.htmlElement.media.pause(),d._updateButtons(!1),d._getHtmlStatus(b,!0),d._updateInterface(),d._trigger(a.jPlayer.event.ended))},!1),b.addEventListener("error",function(){c.gate&&(d._updateButtons(!1),d._seeked(),d.status.srcSet&&(clearTimeout(d.internal.htmlDlyCmdId),d.status.waitForLoad=!0,d.status.waitForPlay=!0,d.status.video&&!d.status.nativeVideoControls&&d.internal.video.jq.css({width:"0px",height:"0px"}),d._validString(d.status.media.poster)&&!d.status.nativeVideoControls&&d.internal.poster.jq.show(),d.css.jq.videoPlay.length&&d.css.jq.videoPlay.show(),d._error({type:a.jPlayer.error.URL,context:d.status.src,message:a.jPlayer.errorMsg.URL,hint:a.jPlayer.errorHint.URL})))},!1),a.each(a.jPlayer.htmlEvent,function(e,f){b.addEventListener(this,function(){c.gate&&d._trigger(a.jPlayer.event[f])},!1)})},_getHtmlStatus:function(a,b){var c=0,d=0,e=0,f=0;isFinite(a.duration)&&(this.status.duration=a.duration),c=a.currentTime,d=this.status.duration>0?100*c/this.status.duration:0,"object"==typeof a.seekable&&a.seekable.length>0?(e=this.status.duration>0?100*a.seekable.end(a.seekable.length-1)/this.status.duration:100,f=this.status.duration>0?100*a.currentTime/a.seekable.end(a.seekable.length-1):0):(e=100,f=d),b&&(c=0,f=0,d=0),this.status.seekPercent=e,this.status.currentPercentRelative=f,this.status.currentPercentAbsolute=d,this.status.currentTime=c,this.status.videoWidth=a.videoWidth,this.status.videoHeight=a.videoHeight,this.status.readyState=a.readyState,this.status.networkState=a.networkState,this.status.playbackRate=a.playbackRate,this.status.ended=a.ended},_resetStatus:function(){this.status=a.extend({},this.status,a.jPlayer.prototype.status)},_trigger:function(b,c,d){var e=a.Event(b);e.jPlayer={},e.jPlayer.version=a.extend({},this.version),e.jPlayer.options=a.extend(!0,{},this.options),e.jPlayer.status=a.extend(!0,{},this.status),e.jPlayer.html=a.extend(!0,{},this.html),e.jPlayer.flash=a.extend(!0,{},this.flash),c&&(e.jPlayer.error=a.extend({},c)),d&&(e.jPlayer.warning=a.extend({},d)),this.element.trigger(e)},jPlayerFlashEvent:function(b,c){if(b===a.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var d=this.status.currentTime,e=this.status.paused;this.setMedia(this.status.media),d>0&&(e?this.pause(d):this.play(d))}this._trigger(a.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=c.version,this.version.needFlash!==this.version.flash&&this._error({type:a.jPlayer.error.VERSION,context:this.version.flash,message:a.jPlayer.errorMsg.VERSION+this.version.flash,hint:a.jPlayer.errorHint.VERSION}),this._trigger(a.jPlayer.event.repeat),this._trigger(b);if(this.flash.gate)switch(b){case a.jPlayer.event.progress:this._getFlashStatus(c),this._updateInterface(),this._trigger(b);break;case a.jPlayer.event.timeupdate:this._getFlashStatus(c),this._updateInterface(),this._trigger(b);break;case a.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(b);break;case a.jPlayer.event.pause:this._updateButtons(!1),this._trigger(b);break;case a.jPlayer.event.ended:this._updateButtons(!1),this._trigger(b);break;case a.jPlayer.event.click:this._trigger(b);break;case a.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:a.jPlayer.error.URL,context:c.src,message:a.jPlayer.errorMsg.URL,hint:a.jPlayer.errorHint.URL});break;case a.jPlayer.event.seeking:this._seeking(),this._trigger(b);break;case a.jPlayer.event.seeked:this._seeked(),this._trigger(b);break;case a.jPlayer.event.ready:break;default:this._trigger(b)}return!1},_getFlashStatus:function(a){this.status.seekPercent=a.seekPercent,this.status.currentPercentRelative=a.currentPercentRelative,this.status.currentPercentAbsolute=a.currentPercentAbsolute,this.status.currentTime=a.currentTime,this.status.duration=a.duration,this.status.videoWidth=a.videoWidth,this.status.videoHeight=a.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(a){a===b?a=!this.status.paused:this.status.paused=!a,this.css.jq.play.length&&this.css.jq.pause.length&&(a?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%")),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)),this.css.jq.duration.length&&this.css.jq.duration.text(this._convertTime(this.status.duration))},_convertTime:c.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.flash.active=!1},setMedia:function(b){var c=this,d=!1,e=this.status.media.poster!==b.poster;this._resetMedia(),this._resetGate(),this._resetActive(),a.each(this.formats,function(e,f){var g="video"===c.format[f].media;return a.each(c.solutions,function(a,e){if(c[e].support[f]&&c._validString(b[f])){var h="html"===e;return g?(h?(c.html.video.gate=!0,c._html_setVideo(b),c.html.active=!0):(c.flash.gate=!0,c._flash_setVideo(b),c.flash.active=!0),c.css.jq.videoPlay.length&&c.css.jq.videoPlay.show(),c.status.video=!0):(h?(c.html.audio.gate=!0,c._html_setAudio(b),c.html.active=!0):(c.flash.gate=!0,c._flash_setAudio(b),c.flash.active=!0),c.css.jq.videoPlay.length&&c.css.jq.videoPlay.hide(),c.status.video=!1),d=!0,!1}}),d?!1:void 0}),d?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(b.poster)&&(e?this.htmlElement.poster.src=b.poster:this.internal.poster.jq.show()),this.status.srcSet=!0,this.status.media=a.extend({},b),this._updateButtons(!1),this._updateInterface()):this._error({type:a.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:a.jPlayer.errorMsg.NO_SUPPORT,hint:a.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(a.jPlayer.focus=this)},play:function(a){a="number"==typeof a?a:0/0,this.status.srcSet?(this.focus(),this.html.active?this._html_play(a):this.flash.active&&this._flash_play(a)):this._urlNotSetError("play")},videoPlay:function(){this.play()},pause:function(a){a="number"==typeof a?a:0/0,this.status.srcSet?this.html.active?this._html_pause(a):this.flash.active&&this._flash_pause(a):this._urlNotSetError("pause")},pauseOthers:function(){var b=this;a.each(this.instances,function(a,c){b.element!==c&&c.data("jPlayer").status.srcSet&&c.jPlayer("pause")})},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(a){a=this._limitValue(a,0,100),this.status.srcSet?this.html.active?this._html_playHead(a):this.flash.active&&this._flash_playHead(a):this._urlNotSetError("playHead")},_muted:function(b){this.options.muted=b,this.html.used&&this._html_mute(b),this.flash.used&&this._flash_mute(b),this.html.video.gate||this.html.audio.gate||(this._updateMute(b),this._updateVolume(this.options.volume),this._trigger(a.jPlayer.event.volumechange))},mute:function(a){a=a===b?!0:!!a,this._muted(a)},unmute:function(a){a=a===b?!0:!!a,this._muted(!a)},_updateMute:function(a){a===b&&(a=this.options.muted),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):a?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(b){b=this._limitValue(b,0,1),this.options.volume=b,this.html.used&&this._html_volume(b),this.flash.used&&this._flash_volume(b),this.html.video.gate||this.html.audio.gate||(this._updateVolume(b),this._trigger(a.jPlayer.event.volumechange))},volumeBar:function(b){if(this.css.jq.volumeBar.length){var c=a(b.currentTarget),d=c.offset(),e=b.pageX-d.left,f=c.width(),g=c.height()-b.pageY+d.top,h=c.height();this.options.verticalVolume?this.volume(g/h):this.volume(e/f)}this.options.muted&&this._muted(!1)},volumeBarValue:function(){},_updateVolume:function(a){a===b&&(a=this.options.volume),a=this.options.muted?0:a,this.status.noVolume?(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*a+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(b){var c=this;this.options.cssSelectorAncestor=b,this._removeUiClass(),this.ancestorJq=b?a(b):[],b&&1!==this.ancestorJq.length&&this._warning({type:a.jPlayer.warning.CSS_SELECTOR_COUNT,context:b,message:a.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:a.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),a.each(this.options.cssSelector,function(a,b){c._cssSelector(a,b)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(b,c){var d=this;if("string"==typeof c)if(a.jPlayer.prototype.options.cssSelector[b]){if(this.css.jq[b]&&this.css.jq[b].length&&this.css.jq[b].unbind(".jPlayer"),this.options.cssSelector[b]=c,this.css.cs[b]=this.options.cssSelectorAncestor+" "+c,this.css.jq[b]=c?a(this.css.cs[b]):[],this.css.jq[b].length){var e=function(c){c.preventDefault(),d[b](c),a(this).blur()};this.css.jq[b].bind("click.jPlayer",e)}c&&1!==this.css.jq[b].length&&this._warning({type:a.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[b],message:a.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[b].length+" found for "+b+" method.",hint:a.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:a.jPlayer.warning.CSS_SELECTOR_METHOD,context:b,message:a.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:a.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:a.jPlayer.warning.CSS_SELECTOR_STRING,context:c,message:a.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:a.jPlayer.warningHint.CSS_SELECTOR_STRING})},seekBar:function(b){if(this.css.jq.seekBar.length){var c=a(b.currentTarget),d=c.offset(),e=b.pageX-d.left,f=c.width(),g=100*e/f;this.playHead(g)}},playBar:function(){},repeat:function(){this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(b){this.options.loop!==b&&(this.options.loop=b,this._updateButtons(),this._trigger(a.jPlayer.event.repeat))},currentTime:function(){},duration:function(){},gui:function(){},noSolution:function(){},option:function(c,d){var e=c;if(0===arguments.length)return a.extend(!0,{},this.options);if("string"==typeof c){var f=c.split(".");if(d===b){for(var g=a.extend(!0,{},this.options),h=0;h<f.length;h++){if(g[f[h]]===b)return this._warning({type:a.jPlayer.warning.OPTION_KEY,context:c,message:a.jPlayer.warningMsg.OPTION_KEY,hint:a.jPlayer.warningHint.OPTION_KEY}),b;g=g[f[h]]}return g}e={};for(var i=e,j=0;j<f.length;j++)j<f.length-1?(i[f[j]]={},i=i[f[j]]):i[f[j]]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(b,c){var d=this;switch(b){case"volume":this.volume(c);break;case"muted":this._muted(c);break;case"cssSelectorAncestor":this._cssSelectorAncestor(c);break;case"cssSelector":a.each(c,function(a,b){d._cssSelector(a,b)});break;case"fullScreen":if(this.options[b]!==c){var e=a.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!e||e&&!this.status.waitForPlay)&&(e||(this.options[b]=c),c?this._requestFullscreen():this._exitFullscreen(),e||this._setOption("fullWindow",c))}break;case"fullWindow":this.options[b]!==c&&(this._removeUiClass(),this.options[b]=c,this._refreshSize());break;case"size":this.options.fullWindow||this.options[b].cssClass===c.cssClass||this._removeUiClass(),this.options[b]=a.extend({},this.options[b],c),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[b].cssClass!==c.cssClass&&this._removeUiClass(),this.options[b]=a.extend({},this.options[b],c),this._refreshSize();break;case"autohide":this.options[b]=a.extend({},this.options[b],c),this._updateAutohide();break;case"loop":this._loop(c);break;case"nativeVideoControls":this.options[b]=a.extend({},this.options[b],c),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[b]=a.extend({},this.options[b],c),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[b]=a.extend({},this.options[b],c),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[b]!==c&&(this.options[b]=c,c?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[b]=a.extend({},this.options[b],c);break;case"keyEnabled":this.options[b]=c,c||this!==a.jPlayer.focus||(a.jPlayer.focus=null);break;case"keyBindings":this.options[b]=a.extend(!0,{},this.options[b],c);break;case"audioFullScreen":this.options[b]=c}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(a.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var a=this,b="mousemove.jPlayer",c=".jPlayerAutohide",d=b+c,e=function(){a.css.jq.gui.fadeIn(a.options.autohide.fadeIn,function(){clearTimeout(a.internal.autohideId),a.internal.autohideId=setTimeout(function(){a.css.jq.gui.fadeOut(a.options.autohide.fadeOut)},a.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),this.element.unbind(c),this.css.jq.gui.unbind(c),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(d,e),this.css.jq.gui.bind(d,e),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(){this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var b=this,c=a.jPlayer.nativeFeatures.fullscreen;c.api.fullscreenEnabled&&c.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){b._fullscreenchange()}),document.addEventListener(c.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var b=a.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.addEventListener(b.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!a.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var b=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],c=a.jPlayer.nativeFeatures.fullscreen;c.used.webkitVideo&&(b=this.htmlElement.video),c.api.fullscreenEnabled&&c.api.requestFullscreen(b)},_exitFullscreen:function(){var b,c=a.jPlayer.nativeFeatures.fullscreen;c.used.webkitVideo&&(b=this.htmlElement.video),c.api.fullscreenEnabled&&c.api.exitFullscreen(b)},_html_initMedia:function(b){var c=a(this.htmlElement.media).empty();a.each(b.track||[],function(a,b){var d=document.createElement("track");d.setAttribute("kind",b.kind?b.kind:""),d.setAttribute("src",b.src?b.src:""),d.setAttribute("srclang",b.srclang?b.srclang:""),d.setAttribute("label",b.label?b.label:""),b.def&&d.setAttribute("default",b.def),c.append(d)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(a.jPlayer.event.timeupdate)},_html_setFormat:function(b){var c=this;a.each(this.formats,function(a,d){return c.html.support[d]&&b[d]?(c.status.src=b[d],c.status.format[d]=!0,c.status.formatType=d,!1):void 0})},_html_setAudio:function(a){this._html_setFormat(a),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(a)},_html_setVideo:function(a){this._html_setFormat(a),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(a.poster)?a.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(a)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(a){var b=this,c=this.htmlElement.media;if(this._html_load(),isNaN(a))c.play();else{this.internal.cmdsIgnored&&c.play();try{if(c.seekable&&!("object"==typeof c.seekable&&c.seekable.length>0))throw 1;c.currentTime=a,c.play()}catch(d){return this.internal.htmlDlyCmdId=setTimeout(function(){b.play(a)},250),void 0}}this._html_checkWaitForPlay()},_html_pause:function(a){var b=this,c=this.htmlElement.media;if(a>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),c.pause(),!isNaN(a))try{if(c.seekable&&!("object"==typeof c.seekable&&c.seekable.length>0))throw 1;c.currentTime=a}catch(d){return this.internal.htmlDlyCmdId=setTimeout(function(){b.pause(a)},250),void 0}a>0&&this._html_checkWaitForPlay()},_html_playHead:function(a){var b=this,c=this.htmlElement.media;this._html_load();try{if("object"==typeof c.seekable&&c.seekable.length>0)c.currentTime=a*c.seekable.end(c.seekable.length-1)/100;else{if(!(c.duration>0)||isNaN(c.duration))throw"e";c.currentTime=a*c.duration/100}}catch(d){return this.internal.htmlDlyCmdId=setTimeout(function(){b.playHead(a)},250),void 0}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_volume:function(a){this.html.audio.available&&(this.htmlElement.audio.volume=a),this.html.video.available&&(this.htmlElement.video.volume=a)},_html_mute:function(a){this.html.audio.available&&(this.htmlElement.audio.muted=a),this.html.video.available&&(this.htmlElement.video.muted=a)},_flash_setAudio:function(b){var c=this;try{a.each(this.formats,function(a,d){if(c.flash.support[d]&&b[d]){switch(d){case"m4a":case"fla":c._getMovie().fl_setAudio_m4a(b[d]);break;case"mp3":c._getMovie().fl_setAudio_mp3(b[d]);break;case"rtmpa":c._getMovie().fl_setAudio_rtmp(b[d])}return c.status.src=b[d],c.status.format[d]=!0,c.status.formatType=d,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(d){this._flashError(d)}},_flash_setVideo:function(b){var c=this;try{a.each(this.formats,function(a,d){if(c.flash.support[d]&&b[d]){switch(d){case"m4v":case"flv":c._getMovie().fl_setVideo_m4v(b[d]);break;case"rtmpv":c._getMovie().fl_setVideo_rtmp(b[d])}return c.status.src=b[d],c.status.format[d]=!0,c.status.formatType=d,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(d){this._flashError(d)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(0/0)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(a){this._flashError(a)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(a){this._flashError(a)}this.status.waitForLoad=!1},_flash_play:function(a){try{this._getMovie().fl_play(a)}catch(b){this._flashError(b)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(a){try{this._getMovie().fl_pause(a)}catch(b){this._flashError(b)}a>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(a){try{this._getMovie().fl_play_head(a)}catch(b){this._flashError(b)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(a){try{this._getMovie().fl_volume(a)}catch(b){this._flashError(b)}},_flash_mute:function(a){try{this._getMovie().fl_mute(a)}catch(b){this._flashError(b)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var a,b=0;if(window.ActiveXObject)try{if(a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var c=a.GetVariable("$version");c&&(c=c.split(" ")[1].split(","),b=parseInt(c[0],10)+"."+parseInt(c[1],10))}}catch(d){}else navigator.plugins&&navigator.mimeTypes.length>0&&(a=navigator.plugins["Shockwave Flash"],a&&(b=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*b},_checkForFlash:function(a){var b=!1;return this._getFlashPluginVersion()>=a&&(b=!0),b},_validString:function(a){return a&&"string"==typeof a},_limitValue:function(a,b,c){return b>a?b:a>c?c:a},_urlNotSetError:function(b){this._error({type:a.jPlayer.error.URL_NOT_SET,context:b,message:a.jPlayer.errorMsg.URL_NOT_SET,hint:a.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(b){var c;c=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:a.jPlayer.error[c],context:this.internal.flash.swf,message:a.jPlayer.errorMsg[c]+b.message,hint:a.jPlayer.errorHint[c]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(b){this._trigger(a.jPlayer.event.error,b),this.options.errorAlerts&&this._alert("Error!"+(b.message?"\n\n"+b.message:"")+(b.hint?"\n\n"+b.hint:"")+"\n\nContext: "+b.context)},_warning:function(c){this._trigger(a.jPlayer.event.warning,b,c),this.options.warningAlerts&&this._alert("Warning!"+(c.message?"\n\n"+c.message:"")+(c.hint?"\n\n"+c.hint:"")+"\n\nContext: "+c.context)
},_alert:function(a){alert("jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+a)},_emulateHtmlBridge:function(){var b=this;a.each(a.jPlayer.emulateMethods.split(/\s+/g),function(a,c){b.internal.domNode[c]=function(a){b[c](a)}}),a.each(a.jPlayer.event,function(c,d){var e=!0;a.each(a.jPlayer.reservedEvent.split(/\s+/g),function(a,b){return b===c?(e=!1,!1):void 0}),e&&b.element.bind(d+".jPlayer.jPlayerHtml",function(){b._emulateHtmlUpdate();var a=document.createEvent("Event");a.initEvent(c,!1,!0),b.internal.domNode.dispatchEvent(a)})})},_emulateHtmlUpdate:function(){var b=this;a.each(a.jPlayer.emulateStatus.split(/\s+/g),function(a,c){b.internal.domNode[c]=b.status[c]}),a.each(a.jPlayer.emulateOptions.split(/\s+/g),function(a,c){b.internal.domNode[c]=b.options[c]})},_destroyHtmlBridge:function(){var b=this;this.element.unbind(".jPlayerHtml");var c=a.jPlayer.emulateMethods+" "+a.jPlayer.emulateStatus+" "+a.jPlayer.emulateOptions;a.each(c.split(/\s+/g),function(a,c){delete b.internal.domNode[c]})}},a.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},a.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+a.jPlayer.prototype.version.script+" needs Jplayer.swf version "+a.jPlayer.prototype.version.needFlash+" but found "},a.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},a.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},a.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},a.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}),window.Modernizr=function(a,b,c){function d(a){s.cssText=a}function e(a,b){return typeof a===b}function f(a,b){return!!~(""+a).indexOf(b)}function g(a,b){for(var d in a){var e=a[d];if(!f(e,"-")&&s[e]!==c)return"pfx"==b?e:!0}return!1}function h(a,b,d){for(var f in a){var g=b[a[f]];if(g!==c)return d===!1?a[f]:e(g,"function")?g.bind(d||b):g}return!1}function i(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),f=(a+" "+v.join(d+" ")+d).split(" ");return e(b,"string")||e(b,"undefined")?g(f,b):(f=(a+" "+w.join(d+" ")+d).split(" "),h(f,b,c))}var j,k,l,m="2.6.2",n={},o=!0,p=b.documentElement,q="modernizr",r=b.createElement(q),s=r.style,t=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),u="Webkit Moz O ms",v=u.split(" "),w=u.toLowerCase().split(" "),x={svg:"http://www.w3.org/2000/svg"},y={},z=[],A=z.slice,B=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:q+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',q,'">',a,"</style>"].join(""),j.id=q,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=p.style.overflow,p.style.overflow="hidden",p.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),p.style.overflow=i),!!g},C=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return B("@media "+b+" { #"+q+" { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),d},D=function(){function a(a,f){f=f||b.createElement(d[a]||"div"),a="on"+a;var g=a in f;return g||(f.setAttribute||(f=b.createElement("div")),f.setAttribute&&f.removeAttribute&&(f.setAttribute(a,""),g=e(f[a],"function"),e(f[a],"undefined")||(f[a]=c),f.removeAttribute(a))),f=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),E={}.hasOwnProperty;l=e(E,"undefined")||e(E.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return E.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=A.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(A.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(A.call(arguments)))};return d}),y.hashchange=function(){return D("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},y.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),f(s.backgroundColor,"rgba")},y.csstransforms3d=function(){var a=!!i("perspective");return a&&"webkitPerspective"in p.style&&B("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a},y.csstransitions=function(){return i("transition")},y.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==x.svg};for(var F in y)l(y,F)&&(k=F.toLowerCase(),n[k]=y[F](),z.push((n[k]?"":"no-")+k));return n.addTest=function(a,b){if("object"==typeof a)for(var d in a)l(a,d)&&n.addTest(d,a[d]);else{if(a=a.toLowerCase(),n[a]!==c)return n;b="function"==typeof b?b():b,"undefined"!=typeof o&&o&&(p.className+=" "+(b?"":"no-")+a),n[a]=b}return n},d(""),r=j=null,n._version=m,n._prefixes=t,n._domPrefixes=w,n._cssomPrefixes=v,n.mq=C,n.hasEvent=D,n.testProp=function(a){return g([a])},n.testAllProps=i,n.testStyles=B,p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(o?" js "+z.join(" "):""),n}(this,this.document),function(a){var b,c;a.fn.metrojs={capabilities:null,checkCapabilities:function(b,c){return(null==a.fn.metrojs.capabilities||"undefined"!=typeof c&&1==c)&&(a.fn.metrojs.capabilities=new a.fn.metrojs.MetroModernizr(b)),a.fn.metrojs.capabilities}},b=a.fn.metrojs,c=99e3,a.fn.liveTile=function(b){var c,e;if(d[b]){for(c=[],e=1;e<=arguments.length;e++)c[e-1]=arguments[e];return d[b].apply(this,c)}return"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.liveTile"),null):d.init.apply(this,arguments)},a.fn.liveTile.contentModules={modules:[],addContentModule:function(a,b){this.modules instanceof Array||(this.modules=[]),this.modules.push(b)},hasContentModule:function(a){if("undefined"==typeof a||!(this.modules instanceof Array))return-1;for(var b=0;b<this.modules.length;b++)if("undefined"!=typeof this.modules[b].moduleName&&this.modules[b].moduleName==a)return b;return-1}},a.fn.liveTile.defaults={mode:"slide",speed:500,initDelay:-1,delay:5e3,stops:"100%",stack:!1,direction:"vertical",animationDirection:"forward",tileSelector:">div,>li,>p,>img,>a",tileFaceSelector:">div,>li,>p,>img,>a",ignoreDataAttributes:!1,click:null,link:"",newWindow:!1,bounce:!1,bounceDirections:"all",bounceFollowsMove:!0,pauseOnHover:!1,pauseOnHoverEvent:"both",playOnHover:!1,playOnHoverEvent:"both",onHoverDelay:0,repeatCount:-1,appendBack:!0,alwaysTrigger:!1,flipListOnHover:!1,flipListOnHoverEvent:"mouseout",noHAflipOpacity:"1",haTransFunc:"ease",noHaTransFunc:"linear",currentIndex:0,startNow:!0,useModernizr:"undefined"!=typeof window.Modernizr,useHardwareAccel:!0,useTranslate:!0,faces:{$front:null,$back:null},animationStarting:function(){},animationComplete:function(){},triggerDelay:function(){return 3e3*Math.random()},swap:"",swapFront:"-",swapBack:"-",contentModules:[]};var d={init:function(c){var d=a.extend({},a.fn.liveTile.defaults,c);return b.checkCapabilities(d),f.getBrowserPrefix(),-1==a.fn.liveTile.contentModules.hasContentModule("image")&&a.fn.liveTile.contentModules.addContentModule("image",g.imageSwap),-1==a.fn.liveTile.contentModules.hasContentModule("html")&&a.fn.liveTile.contentModules.addContentModule("html",g.htmlSwap),a(this).each(function(b,c){var f,g=a(c),h=e.initTileData(g,d);h.faces=e.prepTile(g,h),h.fade=function(a){e.fade(g,a)},h.slide=function(a){e.slide(g,a)},h.carousel=function(a){e.carousel(g,a)},h.flip=function(a){e.flip(g,a)},h.flipList=function(a){e.flipList(g,a)},f={fade:h.fade,slide:h.slide,carousel:h.carousel,flip:h.flip,"flip-list":h.flipList},h.doAction=function(a){var b=f[h.mode];"function"==typeof b&&(b(a),h.hasRun=!0),a==h.timer.repeatCount&&(h.runEvents=!1)},h.timer=new a.fn.metrojs.TileTimer(h.delay,h.doAction,h.repeatCount),g.data("LiveTile",h),("flip-list"!==h.mode||0==h.flipListOnHover)&&(h.pauseOnHover?e.bindPauseOnHover(g):h.playOnHover&&e.bindPlayOnHover(g,h)),(h.link.length>0||"function"==typeof h.click)&&g.css({cursor:"pointer"}).bind("click.liveTile",function(a){var b=!0;"function"==typeof h.click&&(b=h.click(g,h)||!1),b&&h.link.length>0&&(a.preventDefault(),h.newWindow?window.open(h.link):window.location=h.link)}),e.bindBounce(g,h),h.startNow&&"none"!=h.mode&&(h.runEvents=!0,h.timer.start(h.initDelay))})},"goto":function(b){var c,d,e=typeof b;if("undefined"===e&&(c={index:-99,delay:0,autoAniDirection:!1}),"number"!==e&&isNaN(b))if("string"===e)if("next"==b)c={index:-99,delay:0};else{if(0!==b.indexOf("prev"))return a.error(b+' is not a recognized action for .liveTile("goto")'),a(this);c={index:-100,delay:0}}else"object"===e&&("undefined"==typeof b.delay&&(b.delay=0),d=typeof b.index,"undefined"===d?b.index=0:"string"===d&&("next"===b.index?b.index=-99:0===b.index.indexOf("prev")&&(b.index=-100)),c=b);else c={index:parseInt(b,10),delay:0};return a(this).each(function(b,d){var e,f,g=a(d),h=g.data("LiveTile"),i=g.data("metrojs.tile"),j=c.index;if(i.animating===!0)return a(this);if("carousel"===h.mode){if(e=h.faces.$listTiles.filter(".active"),f=h.faces.$listTiles.index(e),-100===j?(("undefined"==typeof c.autoAniDirection||1==c.autoAniDirection)&&(h.tempValues.animationDirection="undefined"==typeof c.animationDirection?"backward":c.animationDirection),j=0===f?h.faces.$listTiles.length-1:f-1):-99===j&&(("undefined"==typeof c.autoAniDirection||1==c.autoAniDirection)&&(h.tempValues.animationDirection="undefined"==typeof c.animationDirection?"forward":c.animationDirection),j=f+1),f==j)return;"undefined"!=typeof c.direction&&(h.tempValues.direction=c.direction),"undefined"!=typeof c.animationDirection&&(h.tempValues.animationDirection=c.animationDirection),h.currentIndex=0==j?h.faces.$listTiles.length:j-1}else h.currentIndex=j;h.runEvents=!0,h.timer.start(c.delay>=0?c.delay:h.delay)})},play:function(b){var c,d=typeof b;return"undefined"===d?c={delay:-1}:"number"===d?c={delay:b}:"object"===d&&("undefined"==typeof b.delay&&(b.delay=-1),c=b),a(this).each(function(b,d){var e=a(d),f=e.data("LiveTile");f.runEvents=!0,c.delay<0&&!f.hasRun&&(c.delay=f.initDelay),f.timer.start(c.delay>=0?c.delay:f.delay)})},animate:function(){return a(this).each(function(b,c){var d=a(c),e=d.data("LiveTile");e.doAction()})},stop:function(){return a(this).each(function(b,c){var d=a(c),e=d.data("LiveTile");e.hasRun=!1,e.runEvents=!1,e.timer.stop(),window.clearTimeout(e.eventTimeout),window.clearTimeout(e.flCompleteTimeout),window.clearTimeout(e.completeTimeout),"flip-list"===e.mode&&e.faces.$listTiles.each(function(b,c){var d=a(c).data("metrojs.tile");window.clearTimeout(d.eventTimeout),window.clearTimeout(d.flCompleteTimeout),window.clearTimeout(d.completeTimeout)})})},pause:function(){return a(this).each(function(b,c){var d=a(c),e=d.data("LiveTile");e.timer.pause(),e.runEvents=!1,window.clearTimeout(e.eventTimeout),window.clearTimeout(e.flCompleteTimeout),window.clearTimeout(e.completeTimeout),"flip-list"===e.mode&&e.faces.$listTiles.each(function(b,c){var d=a(c).data("metrojs.tile");window.clearTimeout(d.eventTimeout),window.clearTimeout(d.flCompleteTimeout),window.clearTimeout(d.completeTimeout)})})},restart:function(b){var c,d=typeof b;return"undefined"===d?c={delay:-1}:"number"===d?c={delay:b}:"object"===d&&("undefined"==typeof b.delay&&(b.delay=-1),c=b),a(this).each(function(b,d){var e=a(d),f=e.data("LiveTile");c.delay<0&&!f.hasRun&&(c.delay=f.initDelay),f.hasRun=!1,f.runEvents=!0,f.timer.restart(c.delay>=0?c.delay:f.delay)})},rebind:function(b){return a(this).each(function(a,c){"undefined"!=typeof b?("undefined"!=typeof b.timer&&null!=b.timer&&b.timer.stop(),b.hasRun=!1,d.init.apply(c,b)):d.init.apply(c,{})})},destroy:function(b){var c,d=typeof b;return"undefined"===d?c={removeCss:!1}:"boolean"===d?c={removeCss:b}:"object"===d&&("undefined"==typeof b.removeCss&&(b.removeCss=!1),c=b),a(this).each(function(b,d){var g,h=a(d),i=h.data("LiveTile");"undefined"!=typeof i&&(h.unbind(".liveTile"),g=f.appendStyleProperties({margin:"",cursor:""},["transform","transition"],["",""]),i.timer.stop(),window.clearTimeout(i.eventTimeout),window.clearTimeout(i.flCompleteTimeout),window.clearTimeout(i.completeTimeout),null!=i.faces.$listTiles&&i.faces.$listTiles.each(function(b,d){var f,h,j=a(d);"flip-list"===i.mode?(f=j.data("metrojs.tile"),window.clearTimeout(f.eventTimeout),window.clearTimeout(f.flCompleteTimeout),window.clearTimeout(f.completeTimeout)):"carousel"===i.mode&&(h=i.listData[b],h.bounce&&e.unbindMsBounce(j,h)),c.removeCss?(j.removeClass("ha"),j.find(i.tileFaceSelector).unbind(".liveTile").removeClass("bounce flip-front flip-back ha slide slide-front slide-back").css(g)):j.find(i.tileFaceSelector).unbind(".liveTile"),j.removeData("metrojs.tile")}).unbind(".liveTile"),null!=i.faces.$front&&c.removeCss&&i.faces.$front.removeClass("flip-front flip-back ha slide slide-front slide-back").css(g),null!=i.faces.$back&&c.removeCss&&i.faces.$back.removeClass("flip-front flip-back ha slide slide-front slide-back").css(g),i.bounce&&e.unbindMsBounce(h,i),i.playOnHover&&e.unbindMsPlayOnHover(h,i),i.pauseOnhover&&e.unbindMsPauseOnHover(h,i),h.removeClass("ha"),h.removeData("LiveTile"),h.removeData("metrojs.tile"),i=null)})}},e={dataAtr:function(a,b,c){return"undefined"!=typeof a.attr("data-"+b)?a.attr("data-"+b):c},dataMethod:function(a,b,c){return"undefined"!=typeof a.data(b)?a.data(b):c},getDataOrDefault:null,initTileData:function(c,d){var f,g,h,i,j=0==d.ignoreDataAttributes,k=null;null==this.getDataOrDefault&&(this.getDataOrDefault=b.capabilities.isOldJQuery?this.dataAtr:this.dataMethod),k=j?{speed:this.getDataOrDefault(c,"speed",d.speed),delay:this.getDataOrDefault(c,"delay",d.delay),stops:this.getDataOrDefault(c,"stops",d.stops),stack:this.getDataOrDefault(c,"stack",d.stack),mode:this.getDataOrDefault(c,"mode",d.mode),direction:this.getDataOrDefault(c,"direction",d.direction),useHardwareAccel:this.getDataOrDefault(c,"ha",d.useHardwareAccel),repeatCount:this.getDataOrDefault(c,"repeat",d.repeatCount),swap:this.getDataOrDefault(c,"swap",d.swap),appendBack:this.getDataOrDefault(c,"appendback",d.appendBack),currentIndex:this.getDataOrDefault(c,"start-index",d.currentIndex),animationDirection:this.getDataOrDefault(c,"slide-direction",d.animationDirection),startNow:this.getDataOrDefault(c,"start-now",d.startNow),tileSelector:this.getDataOrDefault(c,"tile-selector",d.tileSelector),tileFaceSelector:this.getDataOrDefault(c,"face-selector",d.tileFaceSelector),bounce:this.getDataOrDefault(c,"bounce",d.bounce),bounceDirections:this.getDataOrDefault(c,"bounce-dir",d.bounceDirections),bounceFollowsMove:this.getDataOrDefault(c,"bounce-follows",d.bounceFollowsMove),click:this.getDataOrDefault(c,"click",d.click),link:this.getDataOrDefault(c,"link",d.link),newWindow:this.getDataOrDefault(c,"new-window",d.newWindow),alwaysTrigger:this.getDataOrDefault(c,"always-trigger",d.alwaysTrigger),flipListOnHover:this.getDataOrDefault(c,"flip-onhover",d.flipListOnHover),pauseOnHover:this.getDataOrDefault(c,"pause-onhover",d.pauseOnHover),playOnHover:this.getDataOrDefault(c,"play-onhover",d.playOnHover),onHoverDelay:this.getDataOrDefault(c,"hover-delay",d.onHoverDelay),noHAflipOpacity:this.getDataOrDefault(c,"flip-opacity",d.noHAflipOpacity),useTranslate:this.getDataOrDefault(c,"use-translate",d.useTranslate),runEvents:!1,isReversed:!1,loopCount:0,contentModules:[],listData:[],height:c.height(),width:c.width(),tempValues:{}}:a.extend(!0,{runEvents:!1,isReversed:!1,loopCount:0,contentModules:[],listData:[],height:c.height(),width:c.width(),tempValues:{}},d),k.useTranslate=k.useTranslate&&k.useHardwareAccel&&b.capabilities.canTransform&&b.capabilities.canTransition,k.margin="vertical"===k.direction?k.height/2:k.width/2,k.stops="object"==typeof d.stops&&d.stops instanceof Array?d.stops:(""+k.stops).split(","),1===k.stops.length&&k.stops.push("0px");var l=k.swap.replace(" ","").split(","),m=j?this.getDataOrDefault(c,"swap-front",d.swapFront):d.swapFront,n=j?this.getDataOrDefault(c,"swap-back",d.swapBack):d.swapBack;for(k.swapFront="-"===m?l:m.replace(" ","").split(","),k.swapBack="-"===n?l:n.replace(" ","").split(","),f=0;f<k.swapFront.length;f++)k.swapFront[f].length>0&&-1===a.inArray(k.swapFront[f],l)&&l.push(k.swapFront[f]);for(f=0;f<k.swapBack.length;f++)k.swapBack[f].length>0&&-1===a.inArray(k.swapBack[f],l)&&l.push(k.swapBack[f]);for(k.swap=l,f=0;f<l.length;f++)l[f].length>0&&(g=a.fn.liveTile.contentModules.hasContentModule(l[f]),g>-1&&k.contentModules.push(a.fn.liveTile.contentModules.modules[g]));for(k.initDelay=j?this.getDataOrDefault(c,"initdelay",d.initDelay):d.initDelay,k.delay<-1?k.delay=d.triggerDelay(1):k.delay<0&&(k.delay=3500+4501*Math.random()),k.initDelay<0&&(k.initDelay=k.delay),h={},f=0;f<k.contentModules.length;f++)a.extend(h,k.contentModules[f].data);for(a.extend(h,d,k),"flip-list"===h.mode?(i=c.find(h.tileSelector).not(".tile-title"),i.each(function(b,c){var d=a(c),f={direction:j?e.getDataOrDefault(d,"direction",h.direction):h.direction,newWindow:j?e.getDataOrDefault(d,"new-window",!1):!1,link:j?e.getDataOrDefault(d,"link",""):"",faces:{$front:null,$back:null},height:d.height(),width:d.width(),isReversed:!1};f.margin="vertical"===f.direction?f.height/2:f.width/2,h.listData.push(f)})):"carousel"===h.mode&&(h.stack=!0,i=c.find(h.tileSelector).not(".tile-title"),i.each(function(b,c){var d=a(c),f={bounce:j?e.getDataOrDefault(d,"bounce",!1):!1,bounceDirections:j?e.getDataOrDefault(d,"bounce-dir","all"):"all",link:j?e.getDataOrDefault(d,"link",""):"",newWindow:j?e.getDataOrDefault(d,"new-window",!1):!1,animationDirection:j?e.getDataOrDefault(d,"ani-direction",""):"",direction:j?e.getDataOrDefault(d,"direction",""):""};h.listData.push(f)})),f=0;f<k.contentModules.length;f++)"function"==typeof h.contentModules[f].initData&&h.contentModules[f].initData(h,c);return k=null,h},prepTile:function(d,g){var h,i,j,k,l,m,n,o;switch(d.addClass(g.mode),h={$tileFaces:null,$listTiles:null,$front:null,$back:null},g.mode){case"fade":h.$tileFaces=d.find(g.tileFaceSelector).not(".tile-title"),h.$front=null!=g.faces.$front&&g.faces.$front.length>0?g.faces.$front.addClass("fade-front"):h.$tileFaces.filter(":first").addClass("fade-front"),h.$back=null!=g.faces.$back&&g.faces.$back.length>0?g.faces.$back.addClass("fade-back"):h.$tileFaces.length>1?h.$tileFaces.filter(":last").addClass("fade-back"):g.appendBack?a('<div class="fade-back"></div>').appendTo(d):a("<div></div>");break;case"slide":h.$tileFaces=d.find(g.tileFaceSelector).not(".tile-title"),h.$front=null!=g.faces.$front&&g.faces.$front.length>0?g.faces.$front.addClass("slide-front"):h.$tileFaces.filter(":first").addClass("slide-front"),h.$back=null!=g.faces.$back&&g.faces.$back.length>0?g.faces.$back.addClass("slide-back"):h.$tileFaces.length>1?h.$tileFaces.filter(":last").addClass("slide-back"):g.appendBack?a('<div class="slide-back"></div>').appendTo(d):a("<div></div>"),1==g.stack&&("vertical"===g.direction?(m="top",n="translate(0%, -100%) translateZ(0)"):(m="left",n="translate(-100%, 0%) translateZ(0)"),k={},g.useTranslate?f.appendStyleProperties(k,["transform"],[n]):k[m]="-100%",h.$back.css(k)),d.data("metrojs.tile",{animating:!1}),b.capabilities.canTransition&&g.useHardwareAccel&&(d.addClass("ha"),h.$front.addClass("ha"),h.$back.addClass("ha"));break;case"carousel":h.$listTiles=d.find(g.tileSelector).not(".tile-title"),o=h.$listTiles.length,d.data("metrojs.tile",{animating:!1}),g.currentIndex=Math.min(g.currentIndex,o-1),h.$listTiles.each(function(c,d){var h=a(d).addClass("slide"),i=g.listData[c],j="string"==typeof i.animationDirection&&i.animationDirection.length>0?i.animationDirection:g.animationDirection,k="string"==typeof i.direction&&i.direction.length>0?i.direction:g.direction;c==g.currentIndex?h.addClass("active"):"forward"===j?"vertical"===k?(l=g.useTranslate?f.appendStyleProperties({},["transform"],["translate(0%, 100%) translateZ(0)"]):{left:"0%",top:"100%"},h.css(l)):(l=g.useTranslate?f.appendStyleProperties({},["transform"],["translate(100%, 0%) translateZ(0)"]):{left:"100%",top:"0%"},h.css(l)):"backward"===j&&("vertical"===k?(l=g.useTranslate?f.appendStyleProperties({},["transform"],["translate(0%, -100%) translateZ(0)"]):{left:"0%",top:"-100%"},h.css(l)):(l=g.useTranslate?f.appendStyleProperties({},["transform"],["translate(-100%, 0%) translateZ(0)"]):{left:"-100%",top:"0%"},h.css(l))),e.bindLink(h,i),g.useHardwareAccel&&b.capabilities.canTransition&&e.bindBounce(h,i),h=null,i=null}),b.capabilities.canFlip3d&&g.useHardwareAccel&&(d.addClass("ha"),h.$listTiles.addClass("ha"));break;case"flip-list":h.$listTiles=d.find(g.tileSelector).not(".tile-title"),h.$listTiles.each(function(d,h){var l,m,n,o,p=a(h).addClass("tile-"+(d+1)),q=p.find(g.tileFaceSelector).filter(":first").addClass("flip-front").css({margin:"0px"});1===p.find(g.tileFaceSelector).length&&1==g.appendBack&&p.append("<div></div>"),l=p.find(g.tileFaceSelector).filter(":last").addClass("flip-back").css({margin:"0px"}),g.listData[d].faces.$front=q,g.listData[d].faces.$back=l,p.data("metrojs.tile",{animating:!1,count:1,completeTimeout:null,flCompleteTimeout:null,index:d}),m=p.data("metrojs.tile"),b.capabilities.canFlip3d&&g.useHardwareAccel?(p.addClass("ha"),q.addClass("ha"),l.addClass("ha"),i="vertical"===g.listData[d].direction?"rotateX(180deg)":"rotateY(180deg)",k=f.appendStyleProperties({},["transform"],[i]),l.css(k)):(j="vertical"===g.listData[d].direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},k="vertical"===g.listData[d].direction?{height:"0px",width:"100%",marginTop:g.listData[d].margin+"px",opacity:g.noHAflipOpacity}:{height:"100%",width:"0px",marginLeft:g.listData[d].margin+"px",opacity:g.noHAflipOpacity},q.css(j),l.css(k)),n=function(){m.count++,m.count>=c&&(m.count=1)},g.flipListOnHover&&(o=g.flipListOnHoverEvent+".liveTile",q.bind(o,function(){e.flip(p,m.count,g,n)}),l.bind(o,function(){e.flip(p,m.count,g,n)})),g.listData[d].link.length>0&&p.css({cursor:"pointer"}).bind("click.liveTile",function(){g.listData[d].newWindow?window.open(g.listData[d].link):window.location=g.listData[d].link})});break;case"flip":h.$tileFaces=d.find(g.tileFaceSelector).not(".tile-title"),h.$front=null!=g.faces.$front&&g.faces.$front.length>0?g.faces.$front.addClass("flip-front"):h.$tileFaces.filter(":first").addClass("flip-front"),h.$back=null!=g.faces.$back&&g.faces.$back.length>0?g.faces.$back.addClass("flip-back"):h.$tileFaces.length>1?h.$tileFaces.filter(":last").addClass("flip-back"):g.appendBack?a('<div class="flip-back"></div>').appendTo(d):a("<div></div>"),d.data("metrojs.tile",{animating:!1}),b.capabilities.canFlip3d&&g.useHardwareAccel?(d.addClass("ha"),h.$front.addClass("ha"),h.$back.addClass("ha"),i="vertical"===g.direction?"rotateX(180deg)":"rotateY(180deg)",k=f.appendStyleProperties({},["transform"],[i]),h.$back.css(k)):(j="vertical"===g.direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},k="vertical"===g.direction?{height:"0%",width:"100%",marginTop:g.margin+"px",opacity:"0"}:{height:"100%",width:"0%",marginLeft:g.margin+"px",opacity:"0"},h.$front.css(j),h.$back.css(k))}return h},bindPauseOnHover:function(c){!function(){var d=c.data("LiveTile"),e=!1,f=!1,g="both"==d.pauseOnHoverEvent||"mouseover"==d.pauseOnHoverEvent||"mouseenter"==d.pauseOnHoverEvent,h="both"==d.pauseOnHoverEvent||"mouseout"==d.pauseOnHoverEvent||"mouseleave"==d.pauseOnHoverEvent;d.pOnHoverMethods={pause:function(){d.timer.pause(),"flip-list"===d.mode&&d.faces.$listTiles.each(function(b,c){window.clearTimeout(a(c).data("metrojs.tile").completeTimeout)})},over:function(){e||f||d.runEvents&&(f=!0,d.eventTimeout=window.setTimeout(function(){f=!1,h&&(e=!0),d.pOnHoverMethods.pause()},d.onHoverDelay))},out:function(){if(f)return window.clearTimeout(d.eventTimeout),f=!1,void 0;if(g){if(!e&&!f)return;d.runEvents&&d.timer.start(d.hasRun?d.delay:d.initDelay)}else d.pOnHoverMethods.pause();e=!1}},b.capabilities.canTouch?window.navigator.msPointerEnabled?(g&&c[0].addEventListener("MSPointerOver",d.pOnHoverMethods.over,!1),h&&c[0].addEventListener("MSPointerOut",d.pOnHoverMethods.out,!1)):(g&&c.bind("touchstart.liveTile",d.pOnHoverMethods.over),h&&c.bind("touchend.liveTile",d.pOnHoverMethods.out)):(g&&c.bind("mouseover.liveTile",d.pOnHoverMethods.over),h&&c.bind("mouseout.liveTile",d.pOnHoverMethods.out))}()},unbindMsPauseOnHover:function(a,b){"undefined"!=typeof b.pOnHoverMethods&&window.navigator.msPointerEnabled&&(a[0].removeEventListener("MSPointerOver",b.pOnHoverMethods.over,!1),a[0].removeEventListener("MSPointerOut",b.pOnHoverMethods.out,!1))},bindPlayOnHover:function(a,c){!function(){var e=!1,f=!1,g="both"==c.playOnHoverEvent||"mouseover"==c.playOnHoverEvent||"mouseenter"==c.playOnHoverEvent,h="both"==c.playOnHoverEvent||"mouseout"==c.playOnHoverEvent||"mouseleave"==c.playOnHoverEvent;c.onHoverMethods={over:function(){if(!(e||f||c.bounce&&"no"!=c.bounceMethods.down)){var b="flip"==c.mode||(c.startNow?!c.isReversed:c.isReversed);window.clearTimeout(c.eventTimeout),(c.runEvents&&b||!c.hasRun)&&(f=!0,c.eventTimeout=window.setTimeout(function(){f=!1,h&&(e=!0),d.play.apply(a[0],[0])},c.onHoverDelay))}},out:function(){return f?(window.clearTimeout(c.eventTimeout),f=!1,void 0):((!g||e||f)&&(window.clearTimeout(c.eventTimeout),c.eventTimeout=window.setTimeout(function(){var b="flip"==c.mode||(c.startNow?c.isReversed:!c.isReversed);c.runEvents&&b&&d.play.apply(a[0],[0]),e=!1},c.speed+200)),void 0)}},b.capabilities.canTouch?window.navigator.msPointerEnabled?(g&&a[0].addEventListener("MSPointerDown",c.onHoverMethods.over,!1),h&&a.bind("mouseleave.liveTile",c.onHoverMethods.out)):(g&&a.bind("touchstart.liveTile",c.onHoverMethods.over),h&&a.bind("touchend.liveTile",c.onHoverMethods.out)):(g&&a.bind("mouseenter.liveTile",c.onHoverMethods.over),h&&a.bind("mouseleave.liveTile",c.onHoverMethods.out))}()},unbindMsPlayOnHover:function(a,b){"undefined"!=typeof b.onHoverMethods&&window.navigator.msPointerEnabled&&a[0].removeEventListener("MSPointerDown",b.onHoverMethods.over,!1)},bindBounce:function(c,d){d.bounce&&(c.addClass("bounce"),c.addClass("noselect"),function(){d.bounceMethods={down:"no",threshold:30,zeroPos:{x:0,y:0},eventPos:{x:0,y:0},inTilePos:{x:0,y:0},pointPos:{x:0,y:0},regions:{c:[0,0],tl:[-1,-1],tr:[1,-1],bl:[-1,1],br:[1,1],t:[null,-1],r:[1,null],b:[null,1],l:[-1,null]},targets:{all:["c","t","r","b","l","tl","tr","bl","br"],edges:["c","t","r","b","l"],corners:["c","tl","tr","bl","br"]},hitTest:function(c,e,f,g){var h,i,j=d.bounceMethods.regions,k=d.bounceMethods.targets[f],l=0,m=null,n=null,o={hit:[0,0],name:"c"};if(b.capabilities.isOldAndroid||!b.capabilities.canTransition)return o;"undefined"==typeof k&&("string"==typeof f&&(k=f.split(",")),a.isArray(k)&&-1==a.inArray("c")&&(g=0,o=null));for(var p=c.width(),q=c.height(),r=[p*g,q*g],s=e.x-.5*p,t=e.y-.5*q,u=[s>0?Math.abs(s)<=r[0]?0:1:Math.abs(s)<=r[0]?0:-1,t>0?Math.abs(t)<=r[1]?0:1:Math.abs(t)<=r[1]?0:-1];l<k.length;l++){if(null!=m)return m;if(h=k[l],i=j[h],"*"==h)return h=k[l+1],{region:j[h],name:h};u[0]==i[0]&&u[1]==i[1]?m={hit:i,name:h}:(u[0]==i[0]||null==i[0])&&(u[1]==i[1]||null==i[1])&&(n={hit:i,name:h})}return null!=m?m:null!=n?n:o},bounceDown:function(b){var e,g,h;if("A"!=b.target.tagName||a(b).is(".bounce")){var i=b.originalEvent&&b.originalEvent.touches?b.originalEvent.touches[0]:b,j=c.offset();window.pageXOffset,window.pageYOffset,d.bounceMethods.pointPos={x:i.pageX,y:i.pageY},d.bounceMethods.inTilePos={x:i.pageX-j.left,y:i.pageY-j.top},d.$tileParent||(d.$tileParent=c.parent()),e=d.$tileParent.offset(),d.bounceMethods.eventPos={x:j.left-e.left+c.width()/2,y:j.top-e.top+c.height()/2},g=d.bounceMethods.hitTest(c,d.bounceMethods.inTilePos,d.bounceDirections,.25),null==g?d.bounceMethods.down="no":(window.navigator.msPointerEnabled?(document.addEventListener("MSPointerUp",d.bounceMethods.bounceUp,!1),c[0].addEventListener("MSPointerUp",d.bounceMethods.bounceUp,!1),document.addEventListener("MSPointerCancel",d.bounceMethods.bounceUp,!1),d.bounceFollowsMove&&c[0].addEventListener("MSPointerMove",d.bounceMethods.bounceMove,!1)):(a(document).bind("mouseup.liveTile, touchend.liveTile, touchcancel.liveTile, dragstart.liveTile",d.bounceMethods.bounceUp),d.bounceFollowsMove&&(c.bind("touchmove.liveTile",d.bounceMethods.bounceMove),c.bind("mousemove.liveTile",d.bounceMethods.bounceMove))),h="bounce-"+g.name,c.addClass(h),d.bounceMethods.down=h,d.bounceMethods.downPcss=f.appendStyleProperties({},["perspective-origin"],[d.bounceMethods.eventPos.x+"px "+d.bounceMethods.eventPos.y+"px"]),d.$tileParent.css(d.bounceMethods.downPcss))}},bounceUp:function(){"no"!=d.bounceMethods.down&&(d.bounceMethods.unBounce(),window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerUp",d.bounceMethods.bounceUp,!1),c[0].removeEventListener("MSPointerUp",d.bounceMethods.bounceUp,!1),document.removeEventListener("MSPointerCancel",d.bounceMethods.bounceUp,!1),d.bounceFollowsMove&&c[0].removeEventListener("MSPointerMove",d.bounceMethods.bounceMove,!1)):a(document).unbind("mouseup.liveTile, touchend.liveTile, touchcancel.liveTile, dragstart.liveTile",d.bounceMethods.bounceUp),d.bounceFollowsMove&&(c.unbind("touchmove.liveTile",d.bounceMethods.bounceMove),c.unbind("mousemove.liveTile",d.bounceMethods.bounceMove)))},bounceMove:function(a){var b;if("no"!=d.bounceMethods.down){var e=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0]:a,f=Math.abs(e.pageX-d.bounceMethods.pointPos.x),g=Math.abs(e.pageY-d.bounceMethods.pointPos.y);(f>d.bounceMethods.threshold||g>d.bounceMethods.threshold)&&(b=d.bounceMethods.down,d.bounceMethods.bounceDown(a),b!=d.bounceMethods.down&&c.removeClass(b))}},unBounce:function(){c.removeClass(d.bounceMethods.down),"object"==typeof d.bounceMethods.downPcss&&(d.bounceMethods.downPcss=f.appendStyleProperties({},["perspective-origin","perspective-origin-x","perspective-origin-y"],["","",""]),window.setTimeout(function(){d.$tileParent.css(d.bounceMethods.downPcss)},200)),d.bounceMethods.down="no",d.bounceMethods.inTilePos=d.bounceMethods.zeroPos,d.bounceMethods.eventPos=d.bounceMethods.zeroPos}},window.navigator.msPointerEnabled?c[0].addEventListener("MSPointerDown",d.bounceMethods.bounceDown,!1):b.capabilities.canTouch?c.bind("touchstart.liveTile",d.bounceMethods.bounceDown):c.bind("mousedown.liveTile",d.bounceMethods.bounceDown)
}())},unbindMsBounce:function(a,b){b.bounce&&window.navigator.msPointerEnabled&&(a[0].removeEventListener("MSPointerDown",b.bounceMethods.bounceDown,!1),a[0].removeEventListener("MSPointerCancel",b.bounceMethods.bounceUp,!1),a[0].removeEventListener("MSPointerOut",b.bounceMethods.bounceUp,!1))},bindLink:function(b,c){c.link.length>0&&b.css({cursor:"pointer"}).bind("click.liveTile",function(b){("A"!=b.target.tagName||a(b).is(".live-tile,.slide,.flip"))&&(c.newWindow?window.open(c.link):window.location=c.link)})},runContenModules:function(a,b,c,d){for(var e,f=0;f<a.contentModules.length;f++)e=a.contentModules[f],"function"==typeof e.action&&e.action(a,b,c,d)},fade:function(a,b,c){var d,f,g,h="object"==typeof c?c:a.data("LiveTile"),i=function(){(h.timer.repeatCount>0||-1==h.timer.repeatCount)&&h.timer.count!=h.timer.repeatCount&&h.timer.start(h.delay)};if(!h.faces.$front.is(":animated")){if(h.timer.pause(),d=h.loopCount+1,h.isReversed=0==d%2,f=h.animationStarting.call(a[0],h,h.faces.$front,h.faces.$back),"undefined"!=typeof f&&0==f)return i(),void 0;h.loopCount=d,g=function(){i(),e.runContenModules(h,h.faces.$front,h.faces.$back),h.animationComplete.call(a[0],h,h.faces.$front,h.faces.$back)},h.isReversed?h.faces.$front.fadeIn(h.speed,h.noHaTransFunc,g):h.faces.$front.fadeOut(h.speed,h.noHaTransFunc,g)}},slide:function(c,d,g,h,i){var j,k,l,m,n,o,p,q,r,s,t="object"==typeof g?g:c.data("LiveTile"),u=c.data("metrojs.tile");if(1==u.animating||c.is(":animated"))return t=null,u=null,void 0;if(j=function(){(t.timer.repeatCount>0||-1==t.timer.repeatCount)&&t.timer.count!=t.timer.repeatCount&&t.timer.start(t.delay)},"carousel"!==t.mode){if(t.isReversed=0!=t.currentIndex%2,t.timer.pause(),k=t.animationStarting.call(c[0],t,t.faces.$front,t.faces.$back),"undefined"!=typeof k&&0==k)return j(),void 0;t.loopCount=t.loopCount+1}else t.isReversed=!0;l="string"==typeof t.tempValues.direction&&t.tempValues.direction.length>0?t.tempValues.direction:t.direction,t.tempValues.direction=null;var v={},w={},x="undefined"==typeof h?t.currentIndex:h,y=a.trim(t.stops[Math.min(x,t.stops.length-1)]),z=y.indexOf("px"),A=0,B=0,C="vertical"===l?t.height:t.width,D="vertical"===l?"top":"left",E=1==t.stack,F=function(){"undefined"==typeof i?(t.currentIndex=t.currentIndex+1,t.currentIndex>t.stops.length-1&&(t.currentIndex=0)):i(),"carousel"!=t.mode&&j(),e.runContenModules(t,t.faces.$front,t.faces.$back,t.currentIndex),t.animationComplete.call(c[0],t,t.faces.$front,t.faces.$back),t=null,u=null};if(z>0?(B=parseInt(y.substring(0,z),10),A=B-C+"px"):(B=parseInt(y.replace("%",""),10),A=B-100+"%"),b.capabilities.canTransition&&t.useHardwareAccel){if("undefined"!=typeof u.animating&&1==u.animating)return;u.animating=!0,m=["transition-property","transition-duration","transition-timing-function"],n=[t.useTranslate?"transform":D,t.speed+"ms",t.haTransFunc],n[f.browserPrefix+"transition-property"]=f.browserPrefix+"transform",v=f.appendStyleProperties(v,m,n),w=f.appendStyleProperties(w,m,n),o="vertical"===l,p=o?"top":"left",t.useTranslate?(q=o?"translate(0%, "+y+")":"translate("+y+", 0%)",v=f.appendStyleProperties(v,["transform"],[q+"translateZ(0)"]),E&&(q=o?"translate(0%, "+A+")":"translate("+A+", 0%)",w=f.appendStyleProperties(w,["transform"],[q+"translateZ(0)"]))):(v[p]=y,E&&(w[p]=A)),t.faces.$front.css(v),E&&t.faces.$back.css(w),window.clearTimeout(t.completeTimeout),t.completeTimeout=window.setTimeout(function(){u.animating=!1,F()},t.speed)}else v[D]=y,w[D]=A,u.animating=!0,r=t.faces.$front.stop(),s=t.faces.$back.stop(),r.animate(v,t.speed,t.noHaTransFunc,function(){u.animating=!1,F()}),E&&s.animate(w,t.speed,t.noHaTransFunc,function(){})},carousel:function(a,c){var d,g,h,i,j,k,l,m,n=a.data("LiveTile"),o=a.data("metrojs.tile");if(1==o.animating||n.faces.$listTiles.length<=1)return o=null,void 0;d=function(){(n.timer.repeatCount>0||-1==n.timer.repeatCount)&&n.timer.count!=n.timer.repeatCount&&n.timer.start(n.delay)},n.timer.pause();var p=n.faces.$listTiles.filter(".active"),q=n.faces.$listTiles.index(p),r=n.currentIndex,s=r!=q?r:q,t=s+1>=n.faces.$listTiles.length?0:s+1,u=n.listData[t];return q==t?(o=null,p=null,void 0):(g="string"==typeof n.tempValues.animationDirection&&n.tempValues.animationDirection.length>0?n.tempValues.animationDirection:"string"==typeof u.animationDirection&&u.animationDirection.length>0?u.animationDirection:n.animationDirection,n.tempValues.animationDirection=null,"string"==typeof n.tempValues.direction&&n.tempValues.direction.length>0?h=n.tempValues.direction:"string"==typeof u.direction&&u.direction.length>0?(h=u.direction,n.tempValues.direction=h):h=n.direction,i=n.faces.$listTiles.eq(t),j=n.animationStarting.call(a[0],n,p,i),"undefined"!=typeof j&&0==j?(d(),void 0):(n.loopCount=n.loopCount+1,k=f.appendStyleProperties({},["transition-duration"],["0s"]),l="vertical"===h,"backward"===g?(n.useTranslate&&b.capabilities.canTransition?(m=l?"translate(0%, -100%)":"translate(-100%, 0%)",k=f.appendStyleProperties(k,["transform"],[m+" translateZ(0)"]),n.stops=["100%"]):(l?(k.top="-100%",k.left="0%"):(k.top="0%",k.left="-100%"),n.stops=["100%"]),n.faces.$front=p,n.faces.$back=i):(n.useTranslate&&b.capabilities.canTransition?(m=l?"translate(0%, 100%)":"translate(100%, 0%)",k=f.appendStyleProperties(k,["transform"],[m+" translateZ(0)"])):l?(k.top="100%",k.left="0%"):(k.top="0%",k.left="100%"),n.faces.$front=i,n.faces.$back=p,n.stops=["0%"]),i.css(k),window.setTimeout(function(){p.removeClass("active"),i.addClass("active"),e.slide(a,c,n,0,function(){n.currentIndex=t,o=null,p=null,i=null,d()})},150),void 0))},flip:function(a,c,d,g){var h,i,j,k,l=a.data("metrojs.tile");if(1==l.animating)return l=null,void 0;var m,n,o,p,q,r,s,t="object"==typeof d?d:a.data("LiveTile"),u="undefined"==typeof g,v=0,w=function(){(t.timer.repeatCount>0||-1==t.timer.repeatCount)&&t.timer.count!=t.timer.repeatCount&&t.timer.start(t.delay)};if(u){if(t.timer.pause(),h=t.loopCount+1,s=0==h%2,t.isReversed=s,m=t.faces.$front,n=t.faces.$back,i=s?[t,n,m]:[t,m,n],j=t.animationStarting.apply(a[0],i),"undefined"!=typeof j&&0==j)return w(),void 0;o=t.direction,height=t.height,width=t.width,margin=t.margin,t.loopCount=h}else s=0==c%2,v=l.index,m=t.listData[v].faces.$front,n=t.listData[v].faces.$back,t.listData[v].isReversed=s,o=t.listData[v].direction,height=t.listData[v].height,width=t.listData[v].width,margin=t.listData[v].margin;if(b.capabilities.canFlip3d&&t.useHardwareAccel){p=s?"360deg":"180deg",q="vertical"===o?"rotateX("+p+")":"rotateY("+p+")",r=f.appendStyleProperties({},["transform","transition"],[q,"all "+t.speed+"ms "+t.haTransFunc+" 0s"]);var x=s?"540deg":"360deg",y="vertical"===o?"rotateX("+x+")":"rotateY("+x+")",z=f.appendStyleProperties({},["transform","transition"],[y,"all "+t.speed+"ms "+t.haTransFunc+" 0s"]);m.css(r),n.css(z),k=function(){l.animating=!1;var b,c;s?(b="vertical"===o?"rotateX(0deg)":"rotateY(0deg)",c=f.appendStyleProperties({},["transform","transition"],[b,"all 0s "+t.haTransFunc+" 0s"]),m.css(c),e.runContenModules(t,m,n,v),u?(w(),t.animationComplete.call(a[0],t,m,n)):g(t,m,n),m=null,n=null,t=null,l=null):(e.runContenModules(t,n,m,v),u?(w(),t.animationComplete.call(a[0],t,n,m)):g(t,n,m))},"flip-list"===t.mode?(window.clearTimeout(t.listData[v].completeTimeout),t.listData[v].completeTimeout=window.setTimeout(k,t.speed)):(window.clearTimeout(t.completeTimeout),t.completeTimeout=window.setTimeout(k,t.speed))}else{var A,B=t.speed/2,C="vertical"===o?{height:"0px",width:"100%",marginTop:margin+"px",opacity:t.noHAflipOpacity}:{height:"100%",width:"0px",marginLeft:margin+"px",opacity:t.noHAflipOpacity},D="vertical"===o?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"};s?(l.animating=!0,n.stop().animate(C,{duration:B}),A=function(){l.animating=!1,m.stop().animate(D,{duration:B,complete:function(){e.runContenModules(t,m,n,v),u?(w(),t.animationComplete.call(a[0],t,m,n)):g(t,m,n),l=null,m=null,n=null}})},"flip-list"===t.mode?(window.clearTimeout(t.listData[l.index].completeTimeout),t.listData[l.index].completeTimeout=window.setTimeout(A,B)):(window.clearTimeout(t.completeTimeout),t.completeTimeout=window.setTimeout(A,B))):(l.animating=!0,m.stop().animate(C,{duration:B}),A=function(){l.animating=!1,n.stop().animate(D,{duration:B,complete:function(){e.runContenModules(t,n,m,v),u?(w(),t.animationComplete.call(a[0],t,n,m)):g(t,n,m),m=null,n=null,t=null,l=null}})},"flip-list"===t.mode?(window.clearTimeout(t.listData[l.index].completeTimeout),t.listData[l.index].completeTimeout=window.setTimeout(A,B)):(window.clearTimeout(t.completeTimeout),t.completeTimeout=window.setTimeout(A,B)))}},flipList:function(b){var d,f=b.data("LiveTile"),g=f.speed,h=!1,i=function(){(f.timer.repeatCount>0||-1==f.timer.repeatCount)&&f.timer.count!=f.timer.repeatCount&&f.timer.start(f.delay)};return f.timer.pause(),d=f.animationStarting.call(b[0],f,null,null),"undefined"!=typeof d&&0==d?(i(),void 0):(f.loopCount=f.loopCount+1,f.faces.$listTiles.each(function(b,d){var i=a(d),j=i.data("metrojs.tile"),k=f.triggerDelay(b),l=f.speed+Math.max(k,0),m=f.alwaysTrigger;m||(m=351*Math.random()>150?!0:!1),m&&(h=!0,g=Math.max(l+f.speed,g),window.clearTimeout(j.flCompleteTimeout),j.flCompleteTimeout=window.setTimeout(function(){e.flip(i,j.count,f,function(){j.count++,j.count>=c&&(j.count=1),i=null,j=null})},l))}),h&&(window.clearTimeout(f.flCompleteTimeout),f.flCompleteTimeout=window.setTimeout(function(){e.runContenModules(f,null,null,-1),f.animationComplete.call(b[0],f,null,null),i()},g+f.speed)),void 0)}},f={stylePrefixes:"Webkit Moz O ms Khtml ".split(" "),domPrefixes:"-webkit- -moz- -o- -ms- -khtml- ".split(" "),browserPrefix:null,appendStyleProperties:function(b,c,d){for(var e=0;e<=c.length-1;e++)b[a.trim(this.browserPrefix+c[e])]=d[e],b[a.trim(c[e])]=d[e];return b},applyStyleValue:function(b,c,d){return b[a.trim(this.browserPrefix+c)]=d,b[c]=d,b},getBrowserPrefix:function(){var a,b;if(null==this.browserPrefix){for(a="",b=0;b<=this.domPrefixes.length-1;b++)"undefined"!=typeof document.body.style[this.domPrefixes[b]+"transform"]&&(a=this.domPrefixes[b]);return this.browserPrefix=a}return this.browserPrefix},shuffleArray:function(a){for(var b=[];a.length;)b.push(a.splice(Math.random()*a.length,1));for(;b.length;)a.push(b.pop());return a}},g={moduleName:"custom",customSwap:{data:{customDoSwapFront:function(){return!1},customDoSwapBack:function(){return!1},customGetContent:function(){return null}},initData:function(b){var c={};c.doSwapFront=a.inArray("custom",b.swapFront)>-1&&b.customDoSwapFront(),c.doSwapBack=a.inArray("custom",b.swapBack)>-1&&b.customDoSwapBack(),b.customSwap="undefined"!=typeof b.customSwap?a.extend(c,b.customSwap):c},action:function(){}},htmlSwap:{moduleName:"html",data:{frontContent:[],frontIsRandom:!0,frontIsInGrid:!1,backContent:[],backIsRandom:!0,backIsInGrid:!1},initData:function(b,c){var d={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,prevBackIndex:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevFrontIndex:-1};b.ignoreDataAttributes?(d.frontIsRandom=b.frontIsRandom,d.frontIsInGrid=b.frontIsInGrid,d.backIsRandom=b.backIsRandom,d.backIsInGrid=b.backIsInGrid):(d.frontIsRandom=e.getDataOrDefault(c,"front-israndom",b.frontIsRandom),d.frontIsInGrid=e.getDataOrDefault(c,"front-isingrid",b.frontIsInGrid),d.backIsRandom=e.getDataOrDefault(c,"back-israndom",b.backIsRandom),d.backIsInGrid=e.getDataOrDefault(c,"back-isingrid",b.backIsInGrid)),d.doSwapFront=a.inArray("html",b.swapFront)>-1&&b.frontContent instanceof Array&&b.frontContent.length>0,d.doSwapBack=a.inArray("html",b.swapBack)>-1&&b.backContent instanceof Array&&b.backContent.length>0,b.htmlSwap="undefined"!=typeof b.htmlSwap?a.extend(d,b.htmlSwap):d,b.htmlSwap.doSwapFront&&(b.htmlSwap.frontBag=this.prepBag(b.htmlSwap.frontBag,b.frontContent,b.htmlSwap.prevFrontIndex),b.htmlSwap.frontStaticRndm=b.htmlSwap.frontBag.pop()),b.htmlSwap.doSwapBack&&(b.htmlSwap.backBag=this.prepBag(b.htmlSwap.backBag,b.backContent,b.htmlSwap.prevBackIndex),b.htmlSwap.backStaticRndm=b.htmlSwap.backBag.pop())},prepBag:function(a,b,c){var d,e;for(a=a||[],d=0,e=0;e<b.length;e++)(e!=c||1===a.length)&&(a[d]=e,d++);return f.shuffleArray(a)},getFrontSwapIndex:function(a){var b=0;return a.htmlSwap.frontIsRandom?(0===a.htmlSwap.frontBag.length&&(a.htmlSwap.frontBag=this.prepBag(a.htmlSwap.frontBag,a.frontContent,a.htmlSwap.prevFrontIndex)),b=a.htmlSwap.frontIsInGrid?a.htmlSwap.frontStaticRndm:a.htmlSwap.frontBag.pop()):b=a.htmlSwap.frontIsInGrid?a.htmlSwap.frontStaticIndex:a.htmlSwap.frontIndex,b},getBackSwapIndex:function(a){var b=0;return a.htmlSwap.backIsRandom?(0===a.htmlSwap.backBag.length&&(a.htmlSwap.backBag=this.prepBag(a.htmlSwap.backBag,a.backContent,a.htmlSwap.prevBackIndex)),b=a.htmlSwap.backIsInGrid?a.htmlSwap.backStaticRndm:a.htmlSwap.backBag.pop()):b=a.htmlSwap.backIsInGrid?a.htmlSwap.backStaticIndex:a.htmlSwap.backIndex,b},action:function(a,b,c,d){if(a.htmlSwap.doSwapFront||a.htmlSwap.doSwapBack){var e="flip-list"===a.mode,f=0,g=e?a.listData[Math.max(d,0)].isReversed:a.isReversed;if(e&&-1==d)return g?a.htmlSwap.doSwapBack&&(0===a.htmlSwap.backBag.length&&(a.htmlSwap.backBag=this.prepBag(a.htmlSwap.backBag,a.backContent,a.htmlSwap.backStaticRndm)),a.htmlSwap.backStaticRndm=a.htmlSwap.backBag.pop(),a.htmlSwap.backStaticIndex++,a.htmlSwap.backStaticIndex>=a.backContent.length&&(a.htmlSwap.backStaticIndex=0)):a.htmlSwap.doSwapFront&&(0===a.htmlSwap.frontBag.length&&(a.htmlSwap.frontBag=this.prepBag(a.htmlSwap.frontBag,a.frontContent,a.htmlSwap.frontStaticRndm)),a.htmlSwap.frontStaticRndm=a.htmlSwap.frontBag.pop(),a.htmlSwap.frontStaticIndex++,a.htmlSwap.frontStaticIndex>=a.frontContent.length&&(a.htmlSwap.frontStaticIndex=0)),void 0;if(g){if(!a.htmlSwap.doSwapBack)return;f=this.getBackSwapIndex(a),a.htmlSwap.prevBackIndex=f,c.html(a.backContent[a.htmlSwap.backIndex]),a.htmlSwap.backIndex++,a.htmlSwap.backIndex>=a.backContent.length&&(a.htmlSwap.backIndex=0),e||(a.htmlSwap.backStaticIndex++,a.htmlSwap.backStaticIndex>=a.backContent.length&&(a.htmlSwap.backStaticIndex=0))}else{if(!a.htmlSwap.doSwapFront)return;f=this.getFrontSwapIndex(a),a.htmlSwap.prevFrontIndex=f,"slide"===a.mode?a.startNow?c.html(a.frontContent[f]):b.html(a.frontContent[f]):c.html(a.frontContent[f]),a.htmlSwap.frontIndex++,a.htmlSwap.frontIndex>=a.frontContent.length&&(a.htmlSwap.frontIndex=0),e||(a.htmlSwap.frontStaticIndex++,a.htmlSwap.frontStaticIndex>=a.frontContent.length&&(a.htmlSwap.frontStaticIndex=0))}}}},imageSwap:{moduleName:"image",data:{preloadImages:!1,imageCssSelector:">img,>a>img",fadeSwap:!1,frontImages:[],frontIsRandom:!0,frontIsBackgroundImage:!1,frontIsInGrid:!1,backImages:null,backIsRandom:!0,backIsBackgroundImage:!1,backIsInGrid:!1},initData:function(b,c){var d={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevBackIndex:-1,prevFrontIndex:-1},f=b.ignoreDataAttributes;f?(d.imageCssSelector=e.getDataOrDefault(c,"image-css",b.imageCssSelector),d.fadeSwap=e.getDataOrDefault(c,"fadeswap",b.fadeSwap),d.frontIsRandom=e.getDataOrDefault(c,"front-israndom",b.frontIsRandom),d.frontIsInGrid=e.getDataOrDefault(c,"front-isingrid",b.frontIsInGrid),d.frontIsBackgroundImage=e.getDataOrDefault(c,"front-isbg",b.frontIsBackgroundImage),d.backIsRandom=e.getDataOrDefault(c,"back-israndom",b.backIsRandom),d.backIsInGrid=e.getDataOrDefault(c,"back-isingrid",b.backIsInGrid),d.backIsBackgroundImage=e.getDataOrDefault(c,"back-isbg",b.backIsBackgroundImage),d.doSwapFront=a.inArray("image",b.swapFront)>-1&&b.frontImages instanceof Array&&b.frontImages.length>0,d.doSwapBack=a.inArray("image",b.swapBack)>-1&&b.backImages instanceof Array&&b.backImages.length>0,d.alwaysSwapFront=e.getDataOrDefault(c,"front-alwaysswap",b.alwaysSwapFront),d.alwaysSwapBack=e.getDataOrDefault(c,"back-alwaysswap",b.alwaysSwapBack)):(d.imageCssSelector=b.imageCssSelector,d.fadeSwap=b.fadeSwap,d.frontIsRandom=b.frontIsRandom,d.frontIsInGrid=b.frontIsInGrid,d.frontIsBackgroundImage=b.frontIsBackgroundImage,d.backIsRandom=b.backIsRandom,d.backIsInGrid=b.backIsInGrid,d.backIsBackgroundImage=b.backIsBackgroundImage,d.doSwapFront=a.inArray("image",b.swapFront)>-1&&b.frontImages instanceof Array&&b.frontImages.length>0,d.doSwapBack=a.inArray("image",b.swapBack)>-1&&b.backImages instanceof Array&&b.backImages.length>0,d.alwaysSwapFront=b.alwaysSwapFront,d.alwaysSwapBack=b.alwaysSwapBack),b.imgSwap="undefined"!=typeof b.imgSwap?a.extend(d,b.imgSwap):d,b.imgSwap.doSwapFront&&(b.imgSwap.frontBag=this.prepBag(b.imgSwap.frontBag,b.frontImages,b.imgSwap.prevFrontIndex),b.imgSwap.frontStaticRndm=b.imgSwap.frontBag.pop(),b.preloadImages&&a(b.frontImages).metrojs.preloadImages(function(){})),b.imgSwap.doSwapBack&&(b.imgSwap.backBag=this.prepBag(b.imgSwap.backBag,b.backImages,b.imgSwap.prevBackIndex),b.imgSwap.backStaticRndm=b.imgSwap.backBag.pop(),b.preloadImages&&a(b.backImages).metrojs.preloadImages(function(){}))},prepBag:function(a,b,c){var d,e;for(a=a||[],d=0,e=0;e<b.length;e++)(e!=c||1===b.length)&&(a[d]=e,d++);return f.shuffleArray(a)},getFrontSwapIndex:function(a){var b=0;return a.imgSwap.frontIsRandom?(0===a.imgSwap.frontBag.length&&(a.imgSwap.frontBag=this.prepBag(a.imgSwap.frontBag,a.frontImages,a.imgSwap.prevFrontIndex)),b=a.imgSwap.frontIsInGrid?a.imgSwap.frontStaticRndm:a.imgSwap.frontBag.pop()):b=a.imgSwap.frontIsInGrid?a.imgSwap.frontStaticIndex:a.imgSwap.frontIndex,b},getBackSwapIndex:function(a){var b=0;return a.imgSwap.backIsRandom?(0===a.imgSwap.backBag.length&&(a.imgSwap.backBag=this.prepBag(a.imgSwap.backBag,a.backImages,a.imgSwap.prevBackIndex)),b=a.imgSwap.backIsInGrid?a.imgSwap.backStaticRndm:a.imgSwap.backBag.pop()):b=a.imgSwap.backIsInGrid?a.imgSwap.backStaticIndex:a.imgSwap.backIndex,b},setImageProperties:function(b,c,d){var e={},f={};"undefined"!=typeof c.src&&(d?e.backgroundImage="url('"+c.src+"')":f.src=c.src),"undefined"!=typeof c.alt&&(f.alt=c.alt),"object"==typeof c.css?b.css(a.extend(e,c.css)):b.css(e),"object"==typeof c.attr?b.attr(a.extend(f,c.attr)):b.attr(f)},action:function(a,b,c,d){var e,f,h,i;if(a.imgSwap.doSwapFront||a.imgSwap.doSwapBack){var j="flip-list"===a.mode,k=("slide"==a.mode,0),l=j?a.listData[Math.max(d,0)].isReversed:a.isReversed;if(j&&-1==d)return(a.alwaysSwapFront||!l)&&a.imgSwap.doSwapFront&&(0===a.imgSwap.frontBag.length&&(a.imgSwap.frontBag=this.prepBag(a.imgSwap.frontBag,a.frontImages,a.imgSwap.frontStaticRndm)),a.imgSwap.frontStaticRndm=a.imgSwap.frontBag.pop(),a.imgSwap.frontStaticIndex++,a.imgSwap.frontStaticIndex>=a.frontImages.length&&(a.imgSwap.frontStaticIndex=0)),(a.alwaysSwapBack||l)&&a.imgSwap.doSwapBack&&(0===a.imgSwap.backBag.length&&(a.imgSwap.backBag=this.prepBag(a.imgSwap.backBag,a.backImages,a.imgSwap.backStaticRndm)),a.imgSwap.backStaticRndm=a.imgSwap.backBag.pop(),a.imgSwap.backStaticIndex++,a.imgSwap.backStaticIndex>=a.backImages.length&&(a.imgSwap.backStaticIndex=0)),void 0;if(a.alwaysSwapFront||!l){if(!a.imgSwap.doSwapFront)return;k=this.getFrontSwapIndex(a),a.imgSwap.prevFrontIndex=k,e="slide"===a.mode?b:c,f=e.find(a.imgSwap.imageCssSelector),h="object"==typeof a.frontImages[k]?a.frontImages[k]:{src:a.frontImages[k]},i=function(b){var c=a.imgSwap.frontIsBackgroundImage;"function"==typeof b&&(c?window.setTimeout(b,100):f[0].onload=b),g.imageSwap.setImageProperties(f,h,c)},a.fadeSwap?f.fadeOut(function(){i(function(){f.fadeIn()})}):i(),a.imgSwap.frontIndex++,a.imgSwap.frontIndex>=a.frontImages.length&&(a.imgSwap.frontIndex=0),j||(a.imgSwap.frontStaticIndex++,a.imgSwap.frontStaticIndex>=a.frontImages.length&&(a.imgSwap.frontStaticIndex=0))}if(a.alwaysSwapBack||l){if(!a.imgSwap.doSwapBack)return;k=this.getBackSwapIndex(a),a.imgSwap.prevBackIndex=k,e=c,f=e.find(a.imgSwap.imageCssSelector),h="object"==typeof a.backImages[k]?a.backImages[k]:{src:a.backImages[k]},i=function(){g.imageSwap.setImageProperties(f,h,a.imgSwap.backIsBackgroundImage)},a.fadeSwap?f.fadeOut(function(){i(function(){f.fadeIn()})}):i(),a.imgSwap.backIndex++,a.imgSwap.backIndex>=a.backImages.length&&(a.imgSwap.backIndex=0),j||(a.imgSwap.backStaticIndex++,a.imgSwap.backStaticIndex>=a.backImages.length&&(a.imgSwap.backStaticIndex=0))}}}}};a.fn.metrojs.TileTimer=function(a,b,d){this.timerId=null,this.interval=a,this.action=b,this.count=0,this.repeatCount="undefined"==typeof d?0:d,this.start=function(b){window.clearTimeout(this.timerId);var c=this;this.timerId=window.setTimeout(function(){c.tick.call(c,a)},b)},this.tick=function(a){this.action(this.count+1),this.count++,this.count>=c&&(this.count=0),(this.repeatCount>0||-1==this.repeatCount)&&(this.count!=this.repeatCount?this.start(a):this.stop())},this.stop=function(){this.timerId=window.clearTimeout(this.timerId),this.reset()},this.resume=function(){(this.repeatCount>0||-1==this.repeatCount)&&this.count!=this.repeatCount&&this.start(a)},this.pause=function(){this.timerId=window.clearTimeout(this.timerId)},this.reset=function(){this.count=0},this.restart=function(a){this.stop(),this.start(a)}},jQuery.fn.metrojs.theme={loadDefaultTheme:function(a){var b,c,d;"undefined"==typeof a||null==a?a=jQuery.fn.metrojs.theme.defaults:(b=jQuery.fn.metrojs.theme.defaults,jQuery.extend(b,a),a=b),c="undefined"!=typeof window.localStorage,d=function(a){return"undefined"!=typeof window.localStorage[a]&&null!=window.localStorage[a]},!c||d("Metro.JS.AccentColor")&&d("Metro.JS.BaseAccentColor")?c?(a.accentColor=window.localStorage["Metro.JS.AccentColor"],a.baseTheme=window.localStorage["Metro.JS.BaseAccentColor"],jQuery(a.accentCssSelector).addClass(a.accentColor).data("accent",a.accentColor),jQuery(a.baseThemeCssSelector).addClass(a.baseTheme),"function"==typeof a.loaded&&a.loaded(a.baseTheme,a.accentColor)):(jQuery(a.accentCssSelector).addClass(a.accentColor).data("accent",a.accentColor),jQuery(a.baseThemeCssSelector).addClass(a.baseTheme),"function"==typeof a.loaded&&a.loaded(a.baseTheme,a.accentColor),"undefined"!=typeof a.preloadAltBaseTheme&&a.preloadAltBaseTheme&&jQuery(["dark"==a.baseTheme?a.metroLightUrl:a.metroDarkUrl]).metrojs.preloadImages(function(){})):(window.localStorage["Metro.JS.AccentColor"]=a.accentColor,window.localStorage["Metro.JS.BaseAccentColor"]=a.baseTheme,jQuery(a.accentCssSelector).addClass(a.accentColor).data("accent",a.accentColor),jQuery(a.baseThemeCssSelector).addClass(a.baseTheme),"function"==typeof a.loaded&&a.loaded(a.baseTheme,a.accentColor),"undefined"!=typeof a.preloadAltBaseTheme&&a.preloadAltBaseTheme&&jQuery(["dark"==a.baseTheme?a.metroLightUrl:a.metroDarkUrl]).metrojs.preloadImages(function(){}))},applyTheme:function(a,b,c){var d,e,f,g;"undefined"==typeof c||null==c?c=jQuery.fn.metrojs.theme.defaults:(d=jQuery.fn.metrojs.theme.defaults,c=jQuery.extend({},d,c)),"undefined"!=typeof a&&null!=a&&("undefined"!=typeof window.localStorage&&(window.localStorage["Metro.JS.BaseAccentColor"]=a),e=jQuery(c.baseThemeCssSelector),e.length>0&&("dark"==a?e.addClass("dark").removeClass("light"):"light"==a&&e.addClass("light").removeClass("dark"))),"undefined"!=typeof b&&null!=b&&("undefined"!=typeof window.localStorage&&(window.localStorage["Metro.JS.AccentColor"]=b),f=jQuery(c.accentCssSelector),f.length>0&&(g=!1,f.each(function(){var a,c;jQuery(this).addClass(b),a=jQuery(this).data("accent"),a!=b&&(c=jQuery(this).attr("class").replace(a,""),c=c.replace(/(\s)+/," "),jQuery(this).attr("class",c),jQuery(this).data("accent",b),g=!0)}),g&&"function"==typeof c.accentPicked&&c.accentPicked(b)))},appendAccentColors:function(b){var c,d;"undefined"==typeof b||null==b?b=jQuery.fn.metrojs.theme.defaults:(c=jQuery.fn.metrojs.theme.defaults,b=jQuery.extend({},c,b));var e="",f=b.accentColors,g=b.accentListTemplate;for(d=0;d<f.length;d++)e+=g.replace(/\{0\}/g,f[d]);a(e).appendTo(b.accentListContainer)},appendBaseThemes:function(b){var c,d;"undefined"==typeof b||null==b?b=jQuery.fn.metrojs.theme.defaults:(c=jQuery.fn.metrojs.theme.defaults,b=jQuery.extend({},c,b));var e="",f=b.baseThemes,g=b.baseThemeListTemplate;for(d=0;d<f.length;d++)e+=g.replace(/\{0\}/g,f[d]);a(e).appendTo(b.baseThemeListContainer)},defaults:{baseThemeCssSelector:"body",accentCssSelector:".tiles",accentColor:"blue",baseTheme:"dark",accentColors:["amber","blue","brown","cobalt","crimson","cyan","magenta","lime","indigo","green","emerald","mango","mauve","olive","orange","pink","red","sienna","steel","teal","violet","yellow"],baseThemes:["light","dark"],accentListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",accentListContainer:"ul.theme-options,.theme-options>ul",baseThemeListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",baseThemeListContainer:"ul.base-theme-options,.base-theme-options>ul"}},jQuery.fn.applicationBar=function(b){var c,d="undefined"!=typeof jQuery.fn.metrojs.theme?jQuery.fn.metrojs.theme.defaults:{};if(jQuery.extend(d,jQuery.fn.applicationBar.defaults,b),"undefined"!=typeof jQuery.fn.metrojs.theme){c=jQuery.fn.metrojs.theme,d.shouldApplyTheme&&c.loadDefaultTheme(d);var e=d.accentListContainer+" a",f=function(){var a=jQuery(this).attr("class").replace("accent","").replace(" ","");c.applyTheme(null,a,d),"function"==typeof d.accentPicked&&d.accentPicked(a)},g=d.baseThemeListContainer+" a",h=function(){var a=jQuery(this).attr("class").replace("accent","").replace(" ","");c.applyTheme(a,null,d),"function"==typeof d.themePicked&&d.themePicked(a)};"function"==typeof a.fn.on?(a(this).on("click.appBar",e,f),a(this).on("click.appBar",g,h)):(a(e).live("click.appBar",f),a(g).live("click.appBar",h))}return a(this).each(function(b,c){var e=a(c),f=a.extend({},d);"auto"==f.collapseHeight&&(f.collapseHeight=a(this).height()),navigator.userAgent.match(/(Android|webOS|iPhone|iPod|BlackBerry|PIE|IEMobile)/i)&&(navigator.userAgent.match(/(IEMobile\/1)/i)||navigator.userAgent.match(/(iPhone OS [56789])/i)||e.css({position:"absolute",bottom:"0px"})),f.slideOpen=function(){e.hasClass("expanded")||f.animateAppBar(!1)},f.slideClosed=function(){e.hasClass("expanded")&&f.animateAppBar(!0)},f.animateAppBar=function(a){var b=a?f.collapseHeight:f.expandHeight;a?e.removeClass("expanded"):e.hasClass("expanded")||e.addClass("expanded"),e.stop().animate({height:b},{duration:f.duration})},e.data("ApplicationBar",f),e.find(d.handleSelector).click(function(){f.animateAppBar(e.hasClass("expanded"))}),1==f.bindKeyboard&&jQuery(document.documentElement).keyup(function(a){38==a.keyCode?a.target&&null==a.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&(e.hasClass("expanded")||f.animateAppBar(!1)):40==a.keyCode&&a.target&&null==a.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&e.hasClass("expanded")&&f.animateAppBar(!0)})})},jQuery.fn.applicationBar.defaults={applyTheme:!0,themePicked:function(){},accentPicked:function(){},loaded:function(){},duration:300,expandHeight:"320px",collapseHeight:"auto",bindKeyboard:!0,handleSelector:"a.etc",metroLightUrl:"images/metroIcons_light.jpg",metroDarkUrl:"images/metroIcons.jpg",preloadAltBaseTheme:!1},a.fn.metrojs.preloadImages=function(b){var c=a(this).toArray(),d=a("<img style='display:none;' />").appendTo("body");a(this).each(function(){var a=this;"object"==typeof this&&(a=this.src),d.attr({src:a}).load(function(){for(var a=0;a<c.length;a++)c[a]==element&&c.splice(a,1);0==c.length&&b()})}),d.remove()},a.fn.metrojs.MetroModernizr=function(b){if("undefined"==typeof b&&(b={useHardwareAccel:!0,useModernizr:"undefined"!=typeof window.Modernizr}),this.isOldJQuery=/^1\.[0123]/.test(a.fn.jquery),this.isOldAndroid=function(){var b,c;try{if(b=navigator.userAgent,b.indexOf("Android")>=0&&(c=parseFloat(b.slice(b.indexOf("Android")+8)),2.3>c))return!0}catch(d){a.error(d)}return!1}(),this.canTransform=!1,this.canTransition=!1,this.canTransform3d=!1,this.canAnimate=!1,this.canTouch=!1,this.canFlip3d=b.useHardwareAccel,1==b.useHardwareAccel)if(0==b.useModernizr)if("undefined"!=typeof window.MetroModernizr)this.canTransform=window.MetroModernizr.canTransform,this.canTransition=window.MetroModernizr.canTransition,this.canTransform3d=window.MetroModernizr.canTransform3d,this.canAnimate=window.MetroModernizr.canAnimate,this.canTouch=window.MetroModernizr.canTouch;else{window.MetroModernizr={};var c="metromodernizr",d=document.documentElement,e=document.head||document.getElementsByTagName("head")[0],f=document.createElement(c),g=f.style,h=" -webkit- -moz- -o- -ms- ".split(" "),i="Webkit Moz O ms Khtml".split(" "),j=function(a,b){for(var c in a)if(void 0!==g[a[c]]&&(!b||b(a[c],f)))return!0},k=function(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+" "+i.join(c+" ")+c).split(" ");return!!j(d,b)},l=function(){var a=!!j(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);return a&&"webkitPerspective"in d.style&&(a=m(["@media (",h.join("transform-3d),("),c,")","{#metromodernizr{left:9px;position:absolute;height:3px;}}"].join(""),function(a){return 3===a.offsetHeight&&9===a.offsetLeft})),a},m=function(a,b){var f,g=document.createElement("style"),h=document.createElement("div");return g.textContent=a,e.appendChild(g),h.id=c,d.appendChild(h),f=b(h),g.parentNode.removeChild(g),h.parentNode.removeChild(h),!!f},n=function(){return canTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||"undefined"!=typeof window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0||m(["@media (",h.join("touch-enabled),("),c,")","{#metromodernizr{top:9px;position:absolute}}"].join(""),function(a){return 9===a.offsetTop})};this.canTransform=!!j(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),this.canTransition=k("transitionProperty"),this.canTransform3d=l(),this.canAnimate=k("animationName"),this.canTouch=n(),window.MetroModernizr.canTransform=this.canTransform,window.MetroModernizr.canTransition=this.canTransition,window.MetroModernizr.canTransform3d=this.canTransform3d,window.MetroModernizr.canAnimate=this.canAnimate,window.MetroModernizr.canTouch=this.canTouch,d=null,e=null,f=null,g=null}else this.canTransform=a("html").hasClass("csstransforms"),this.canTransition=a("html").hasClass("csstransitions"),this.canTransform3d=a("html").hasClass("csstransforms3d"),this.canAnimate=a("html").hasClass("cssanimations"),this.canTouch=a("html").hasClass("touch")||"undefined"!=typeof window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0;this.canFlip3d=this.canFlip3d&&this.canAnimate&&this.canTransform&&this.canTransform3d}}(jQuery);